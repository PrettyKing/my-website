<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="卫辰 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="卫辰 Blog Atom Feed"><title data-react-helmet="true">CI-CD | 卫辰</title><meta data-react-helmet="true" property="og:title" content="CI-CD | 卫辰"><meta data-react-helmet="true" name="description" content="- CI/CD概述"><meta data-react-helmet="true" property="og:description" content="- CI/CD概述"><meta data-react-helmet="true" property="og:url" content="http://githubci.faithcal.com/blog/CI-CD"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://githubci.faithcal.com/blog/CI-CD"><link data-react-helmet="true" rel="alternate" href="http://githubci.faithcal.com/blog/CI-CD" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://githubci.faithcal.com/blog/CI-CD" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.2a08f740.css">
<link rel="preload" href="/assets/js/runtime~main.047caa76.js" as="script">
<link rel="preload" href="/assets/js/main.da97ff1e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/logo.png" alt="诗的远方" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/logo.png" alt="诗的远方" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">卫辰</b></a><a class="navbar__item navbar__link" href="/docs/intro">大前端</a><a class="navbar__item navbar__link" href="/md/devops">devops</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/logo.png" alt="诗的远方" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/logo.png" alt="诗的远方" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">卫辰</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro">大前端</a></li><li class="menu__list-item"><a class="menu__link" href="/md/devops">devops</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">博客</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">Recent posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a aria-current="page" class="sidebarItemLink_zyXk sidebarItemLinkActive_wcJs" href="/blog/CI-CD">CI-CD</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/Reflect&amp;Proxy">Reflect&amp;Proxy</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="blogPostTitle_d4p0">CI-CD</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2025-07-26T06:00:52.797Z">July 26, 2025</time> · 10 min read</div><div class="avatar margin-vert--md"><div class="avatar__intro"></div></div></header><div class="markdown"><ul><li>CI/CD概述</li><li>自动构建流程</li><li>版本控制</li><li>持续集成(CI) 持续交付和持续部署(CD) Jenkins与Travis</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="概览图"></a>概览图<a class="hash-link" href="#概览图" title="Direct link to heading">#</a></h3><p><img src="https://qiniu.faithcal.com/20201118-1.png" alt="进程与线程"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="ci--cd"></a>CI &amp; CD<a class="hash-link" href="#ci--cd" title="Direct link to heading">#</a></h3><ul><li>持续集成(CI)</li><li>持续交付和持续部署(CD)</li><li>现代软件开发的需求加上部署到不同基础设施的复杂性使得创建应用程序成为一个
繁琐的过程。当应用程序出现规模性增长，开发团队人员变得更分散时，快速且不
断地生产和发布软件的流程将会变得更加困难。</li><li>为了解决这些问题，开发团队开始探索新的策略来使他们的构建、测试和发布流程
自动化，以帮助其更快地部署新的生产。这就是持续交付和持续集成发展的由来。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="cicd流程"></a>CI/CD流程<a class="hash-link" href="#cicd流程" title="Direct link to heading">#</a></h3><p><img src="https://qiniu.faithcal.com/20201118-2.png" alt="进程与线程"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="自动构建"></a>自动构建<a class="hash-link" href="#自动构建" title="Direct link to heading">#</a></h3><ul><li>在软件开发过程中，构建流程会将开发人员生成的代码转换为可执行的可用软件。 <ul><li>对于Go或者C语言等编译语言，此阶段需要通过编译器运行源代码以生成独立的二进制文件。</li><li>对于JavaScript或PHP等解释性语言，没有编译的步骤，但是代码依旧需要在特定的时间内冻结、绑定依 赖项、打包以便于分发。</li><li>这些过程通常称为“构建”或“发布”的工件。 </li></ul></li><li>虽然开发人员可以手动构建，但这样操作有诸多不利。<ul><li>首先，从主动开发到创建构建的转变中引入了上下文转换，使得开发人员不得不停止生产效率更高的工作来专注于构建过程。</li><li>其次，每个开发人员都在制作自己的工件，这可能导致构建过程不一致。</li></ul></li><li>为了解决这些顾虑，许多开发团队配置了自动构建流水线。这些系统监视源代码存储库，并在检测到更改时自动启动预配置的构建过程。这一配置无需牵涉过多的人力在其中并且确保了每个构建过程一致。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="版本控制"></a>版本控制<a class="hash-link" href="#版本控制" title="Direct link to heading">#</a></h3><ul><li>版本控制系统(VCS)用于帮助维护项 目历史记录，并行处理离散特征，以及 解决存在冲突的更改。VCS允许项目轻 松采用更改并在出现问题时回滚。开发 人员可以在本地计算机上处理项目，并 使用VCS来管理不同的开发分支。</li><li>记录在VCS中的每个更改都称为提交。 每个提交都对代码库的更改进行编目分 类，元数据也包含在其中，例如关于查 看提交历史记录或合并更新的描述。</li></ul><p><img src="https://qiniu.faithcal.com/20201118-3.png" alt="进程与线程"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="持续集成ci"></a>持续集成(CI)<a class="hash-link" href="#持续集成ci" title="Direct link to heading">#</a></h3><ul><li>持续集成(CI)是一个让开发人员将工作集 成到共享分支中的过程，从而增强了协作开 发。频繁的集成有助于解决隔离，减少每次 提交的大小，以降低合并冲突的可能性。</li><li>为了鼓励CI实践，一个强大的工具生态已经 构建起来。这些系统集成了VCS库，当检测 到更改时，可以自动运行构建脚本并且测试 套件。集成测试确保不同组件功能可以在一 个组内兼容，使得团队可以尽早发现兼容性 的bug。因此，持续集成所生产的构建是经 过充分测试的，并且是完全可靠的。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="持续交付和持续部署"></a>持续交付和持续部署<a class="hash-link" href="#持续交付和持续部署" title="Direct link to heading">#</a></h3><ul><li>持续交付和持续部署是在构建持续集成的基础之上的两种策略。</li><li>持续交付 是持续集成的扩展，它将构建从集成测 试套件部署到预生产环境。这使得它可以直接在 类生产环境中评估每个构建，因此开发人员可以 在无需增加任何工作量的情况下，验证bug修复或 者测试新特性。一旦部署到staging环境中，就可 能需要进行额外的手动和自动测试。</li><li>持续部署 则更进一步。一旦构建在staging环境中 通过了自动测试，持续部署系统将会自动将它部 署到生产服务器上。换言之，每个通过测试的构 建都是实时的，可供用户及早反馈。这使得团队 可以不断发布新特性和修复bug，并以其测试流程 提供的保证为后盾。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="cicd的优势"></a>CI/CD的优势<a class="hash-link" href="#cicd的优势" title="Direct link to heading">#</a></h3><ul><li>快速反馈回路</li><li>增加可见度</li><li>简化故障排除</li><li>软件质量更高</li><li>集成问题更少</li><li>有更多的时间专注于开发</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="cicd-集成"></a>CI/CD 集成<a class="hash-link" href="#cicd-集成" title="Direct link to heading">#</a></h3><p>CI：防护层</p><p>CD : 持续交付</p><p>CD：持续部署</p><p><img src="https://qiniu.faithcal.com/20201118-4.png" alt="进程与线程"></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="番外篇"></a>番外篇<a class="hash-link" href="#番外篇" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sonarqube-环境集成"></a>sonarqube 环境集成<a class="hash-link" href="#sonarqube-环境集成" title="Direct link to heading">#</a></h3><p>优点：</p><ul><li>代码覆盖：通过单元测试，将会显示哪行代码被选中</li><li>改善编码规则</li><li>搜寻编码规则：按照名字，插件，激活级别和类别进行查询</li><li>项目搜寻：按照项目的名字进行查询</li><li>对比数据：比较同一张表中的任何测量的趋势</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sonarqube相关地址"></a>sonarqube相关地址<a class="hash-link" href="#sonarqube相关地址" title="Direct link to heading">#</a></h4><blockquote><p><a href="https://www.sonarqube.org/" target="_blank" rel="noopener noreferrer">官网</a></p><p><a href="https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/" target="_blank" rel="noopener noreferrer">文档</a></p><p><a href="https://www.oracle.com/cn/java/technologies/javase-downloads.html" target="_blank" rel="noopener noreferrer">下载地址</a></p><p><a href="https://www.oracle.com/index.html" target="_blank" rel="noopener noreferrer">依赖数据库</a></p><p><a href="https://docs.sonarqube.org/latest/setup/install-server/" target="_blank" rel="noopener noreferrer">安装文档</a></p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sonarqube-安装准备linux"></a>sonarqube 安装准备(Linux)<a class="hash-link" href="#sonarqube-安装准备linux" title="Direct link to heading">#</a></h4><blockquote><p>注意：sonarqube在7.9之后就不支持mysql了;jdk版本必须大于11</p></blockquote><ul><li>sonarqube-8.5.1.38104.zip</li><li>jdk-11.0.9_linux-x64_bin.tar.gz</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="注意"></a>注意<a class="hash-link" href="#注意" title="Direct link to heading">#</a></h4><p>Sonarqube 运行条件：必须是非 root 用户运行</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 使用sonar运行sonarqube</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 创建用户</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">adduser sonar</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">passwd</span><span class="token plain"> sonar</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 给sonar设置权限（root）</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> u+w sudoers</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># vim sudoers 在root后面添加</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar  </span><span class="token assign-left variable" style="color:#36acaa">ALL</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ALL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   ALL</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 复原权限</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> u-w sudoers</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="安装步骤"></a>安装步骤<a class="hash-link" href="#安装步骤" title="Direct link to heading">#</a></h4><ul><li><p>解压：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">unzip</span><span class="token plain"> sonarqube-8.5.1.38104.zip</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>移动至安装目录：</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> ./sonarqube-8.5.1.38104 /usr/local/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>给sonarqube文件的sonar用户增加操作权限</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chown</span><span class="token plain"> -R sonar:sonar sonarqube-8.5.1.38104</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>切换sonar用户</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#   切换用户</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">su</span><span class="token plain"> sonar</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>运行</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 首次需要使用 console 参数启动， 可能的参数: start | stop | restart | status</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># sonarqube-8.5.1.38104/bin/linux-x86-64</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">./sonar.sh console</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 第二次</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">./sonar.sh start</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>访问</p><p>sonarqube的默认端口为：9000；地址：ip:9000(记得打开防火墙)</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="其他"></a>其他<a class="hash-link" href="#其他" title="Direct link to heading">#</a></h4><ul><li><p>sonarqube-8.5.1.38104文件目录</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// bin 目录文件</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property-access">├──</span><span class="token plain"> jsw</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">license</span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── </span><span class="token constant" style="color:#36acaa">LICENSE</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">txt</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">├── linux</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">x86</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── lib</span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── libwrapper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">so</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── </span><span class="token maybe-class-name">SonarQube</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">pid</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── sonar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sh</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//启动命令</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── wrapper</span></span><span class="token-line" style="color:#393A34"><span class="token plain">├── macosx</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">universal</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── lib</span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── libwrapper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">jnilib</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── sonar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sh</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── wrapper</span></span><span class="token-line" style="color:#393A34"><span class="token plain">└── windows</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">x86</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── lib</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── wrapper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">dll</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── </span><span class="token maybe-class-name">StartNTService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bat</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── </span><span class="token maybe-class-name">StartSonar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bat</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── </span><span class="token maybe-class-name">StopNTService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">bat</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── wrapper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exe</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property-access">├──</span><span class="token plain"> sonar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">properties</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">└── wrapper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">conf</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">//修改jdk的路径在此修改</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><ul><li><p>修改jdk</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#wrapper.java.command=/path/to/my/jdk/bin/java</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">wrapper.java.command</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/local/jdk-11.0.9/bin/java</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sonarscanner-mac安装"></a>SonarScanner mac安装<a class="hash-link" href="#sonarscanner-mac安装" title="Direct link to heading">#</a></h4><ul><li><p>先使用 sonar 浏览器端创建项目</p></li><li><p>设置项目名称</p></li><li><p>配置token =》 继续</p></li><li><p>配置项目</p></li><li><p>下载SonarScanner包安装</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># vi ~/.bash_profile</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># export SCANNER_HOME=&quot;你下载的sonar-scanner地址&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">SCANNER_HOME</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/Users/hondry/opt/sonar-scanner&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token environment constant" style="color:#36acaa">$PATH</span><span class="token builtin class-name">:</span><span class="token variable" style="color:#36acaa">$SCANNER_HOME</span><span class="token plain">/bin</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 使刚刚的配置环境生效</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">source</span><span class="token plain">  ~/.bash_profile</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 然后在 shell 中 校验是否安装完成</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">sonar-scanner -v</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>本地项目配置</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"># 在项目根目录创建 sonar-project.properties</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># 复制刚刚创建项目的生成命令</span></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn sonar:sonar \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -Dsonar.projectKey=Test \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -Dsonar.host.url=http://8.129.231.174:9000 \</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  -Dsonar.login=070990d7967e6038c5116053177ed78afd29b375</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span></span><span class="token-line" style="color:#393A34"><span class="token plain"># 在命令行执行</span></span><span class="token-line" style="color:#393A34"><span class="token plain">sh ./sonar-project.properties</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># 等待执行完成了，就刷新sonar的网页就可以看到生成的报告了</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/Reflect&amp;Proxy"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Reflect&amp;Proxy »</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#概览图" class="table-of-contents__link">概览图</a></li><li><a href="#ci--cd" class="table-of-contents__link">CI &amp; CD</a></li><li><a href="#cicd流程" class="table-of-contents__link">CI/CD流程</a></li><li><a href="#自动构建" class="table-of-contents__link">自动构建</a></li><li><a href="#版本控制" class="table-of-contents__link">版本控制</a></li><li><a href="#持续集成ci" class="table-of-contents__link">持续集成(CI)</a></li><li><a href="#持续交付和持续部署" class="table-of-contents__link">持续交付和持续部署</a></li><li><a href="#cicd的优势" class="table-of-contents__link">CI/CD的优势</a></li><li><a href="#cicd-集成" class="table-of-contents__link">CI/CD 集成</a></li><li><a href="#番外篇" class="table-of-contents__link">番外篇</a><ul><li><a href="#sonarqube-环境集成" class="table-of-contents__link">sonarqube 环境集成</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 From chalee.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.047caa76.js"></script>
<script src="/assets/js/main.da97ff1e.js"></script>
</body>
</html>