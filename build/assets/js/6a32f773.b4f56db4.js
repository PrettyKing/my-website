"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9688],{4548:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>p});var r=t(8168),l=(t(6540),t(5680));const a={},i=void 0,o={unversionedId:"typescript/TSConfig \u5168\u89e3\uff08\u4e0b\uff09\uff1a\u68c0\u67e5\u76f8\u5173\u3001\u5de5\u7a0b\u76f8\u5173\u914d\u7f6e",id:"typescript/TSConfig \u5168\u89e3\uff08\u4e0b\uff09\uff1a\u68c0\u67e5\u76f8\u5173\u3001\u5de5\u7a0b\u76f8\u5173\u914d\u7f6e",isDocsHomePage:!1,title:"TSConfig \u5168\u89e3\uff08\u4e0b\uff09\uff1a\u68c0\u67e5\u76f8\u5173\u3001\u5de5\u7a0b\u76f8\u5173\u914d\u7f6e",description:"\u4e0a\u4e00\u8282\u6211\u4eec\u4ecb\u7ecd\u4e86\u6784\u5efa\u76f8\u5173\u7684 TSConfig \u914d\u7f6e\uff0c\u5305\u62ec\u6e90\u7801\u76f8\u5173\u3001\u89e3\u6790\u76f8\u5173\u3001\u4ea7\u7269\u76f8\u5173\u7b49\u51e0\u4e2a\u90e8\u5206\uff0c\u8fd9\u4e00\u8282\u6211\u4eec\u4f1a\u63a5\u7740\u6765\u4ecb\u7ecd\u7c7b\u578b\u68c0\u67e5\u4e0e\u5de5\u7a0b\u76f8\u5173\u7684 TASConfig\u3002",source:"@site/docs/typescript/28.TSConfig \u5168\u89e3\uff08\u4e0b\uff09\uff1a\u68c0\u67e5\u76f8\u5173\u3001\u5de5\u7a0b\u76f8\u5173\u914d\u7f6e.md",sourceDirName:"typescript",slug:"/typescript/TSConfig \u5168\u89e3\uff08\u4e0b\uff09\uff1a\u68c0\u67e5\u76f8\u5173\u3001\u5de5\u7a0b\u76f8\u5173\u914d\u7f6e",permalink:"/docs/typescript/TSConfig \u5168\u89e3\uff08\u4e0b\uff09\uff1a\u68c0\u67e5\u76f8\u5173\u3001\u5de5\u7a0b\u76f8\u5173\u914d\u7f6e",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/typescript/28.TSConfig \u5168\u89e3\uff08\u4e0b\uff09\uff1a\u68c0\u67e5\u76f8\u5173\u3001\u5de5\u7a0b\u76f8\u5173\u914d\u7f6e.md",version:"current",sidebarPosition:28,frontMatter:{},sidebar:"defaultSidebar",previous:{title:"TSConfig \u5168\u89e3\uff08\u4e0a\uff09\uff1a\u6784\u5efa\u76f8\u5173\u914d\u7f6e",permalink:"/docs/typescript/TSConfig \u5168\u89e3\uff08\u4e0a\uff09\uff1a\u6784\u5efa\u76f8\u5173\u914d\u7f6e"},next:{title:"\u57fa\u4e8e Prisma + NestJs \u7684 Node API \uff1a\u524d\u7f6e\u77e5\u8bc6\u50a8\u5907",permalink:"/docs/typescript/\u57fa\u4e8e Prisma + NestJs \u7684 Node API \uff1a\u524d\u7f6e\u77e5\u8bc6\u50a8\u5907"}},p=[{value:"\u68c0\u67e5\u76f8\u5173",id:"\u68c0\u67e5\u76f8\u5173",children:[{value:"\u5141\u8bb8\u7c7b",id:"\u5141\u8bb8\u7c7b",children:[]},{value:"\u7981\u6b62\u7c7b",id:"\u7981\u6b62\u7c7b",children:[]},{value:"\u4e25\u683c\u68c0\u67e5",id:"\u4e25\u683c\u68c0\u67e5",children:[]},{value:"skipLibCheck \u4e0e skipDefaultLibCheck",id:"skiplibcheck-\u4e0e-skipdefaultlibcheck",children:[]}]},{value:"\u5de5\u7a0b\u76f8\u5173",id:"\u5de5\u7a0b\u76f8\u5173",children:[{value:"Project References",id:"project-references",children:[]},{value:"\u517c\u5bb9\u6027",id:"\u517c\u5bb9\u6027",children:[]},{value:"\u7f16\u8bd1\u5668\u76f8\u5173",id:"\u7f16\u8bd1\u5668\u76f8\u5173",children:[]},{value:"\u5176\u5b83\u5de5\u7a0b\u76f8\u5173",id:"\u5176\u5b83\u5de5\u7a0b\u76f8\u5173",children:[]}]},{value:"\u603b\u7ed3\u4e0e\u9884\u544a",id:"\u603b\u7ed3\u4e0e\u9884\u544a",children:[]}],s={toc:p},c="wrapper";function u(e){let{components:n,...t}=e;return(0,l.yg)(c,(0,r.A)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,l.yg)("p",null,"\u4e0a\u4e00\u8282\u6211\u4eec\u4ecb\u7ecd\u4e86\u6784\u5efa\u76f8\u5173\u7684 TSConfig \u914d\u7f6e\uff0c\u5305\u62ec\u6e90\u7801\u76f8\u5173\u3001\u89e3\u6790\u76f8\u5173\u3001\u4ea7\u7269\u76f8\u5173\u7b49\u51e0\u4e2a\u90e8\u5206\uff0c\u8fd9\u4e00\u8282\u6211\u4eec\u4f1a\u63a5\u7740\u6765\u4ecb\u7ecd\u7c7b\u578b\u68c0\u67e5\u4e0e\u5de5\u7a0b\u76f8\u5173\u7684 TASConfig\u3002"),(0,l.yg)("blockquote",null,(0,l.yg)("p",{parentName:"blockquote"},"\u672c\u8282\u4ee3\u7801\u89c1\uff1a",(0,l.yg)("a",{parentName:"p",href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Flinbudu599%2FTypeScript-Tiny-Book%2Ftree%2Fmain%2Fpackages%2F22-project-references%2F"},"Project References"))),(0,l.yg)("h2",{id:"\u68c0\u67e5\u76f8\u5173"},"\u68c0\u67e5\u76f8\u5173"),(0,l.yg)("p",null,"\u8fd9\u90e8\u5206\u7684\u914d\u7f6e\u4e3b\u8981\u63a7\u5236\u5bf9\u6e90\u7801\u4e2d\u8bed\u6cd5\u4e0e\u7c7b\u578b\u68c0\u67e5\u7684\u4e25\u683c\u7a0b\u5ea6\uff0c\u8fd9\u4e5f\u662f\u5bfc\u81f4 TypeScript \u9879\u76ee\u4e0b\u9650\u4e0e\u4e0a\u9650\u5dee\u5f02\u5de8\u5927\u7684\u4e3b\u8981\u539f\u56e0\uff0c\u68c0\u67e5\u5168\u5f00\u4e0e\u5168\u5173\u4e0b\u7684 TypeScript \u7b80\u76f4\u5c31\u662f\u4e24\u95e8\u4e0d\u540c\u7684\u8bed\u8a00\u3002\u4f46\u5e76\u4e0d\u662f\u8bf4\u68c0\u67e5\u8d8a\u4e25\u683c\u8d8a\u597d\uff0c\u66f4\u597d\u7684\u65b9\u5f0f\u662f\u4f9d\u636e\u5b9e\u9645\u9700\u8981\u6765\u8c03\u6574\u68c0\u67e5\u7684\u4e25\u683c\u7a0b\u5ea6\uff0c\u6bd4\u5982\u5c0f\u5c0f demo \u5c31\u4e0d\u9700\u8981\u592a\u4e25\u683c\u68c0\u67e5\u5566\u3002"),(0,l.yg)("p",null,"\u5bf9\u4e8e\u63a8\u8350\u4f7f\u7528\u7684\u914d\u7f6e\uff0c\u6211\u4e5f\u4f1a\u5728\u4ecb\u7ecd\u65f6\u6307\u51fa\u3002"),(0,l.yg)("h3",{id:"\u5141\u8bb8\u7c7b"},"\u5141\u8bb8\u7c7b"),(0,l.yg)("p",null,"\u8fd9\u4e00\u90e8\u5206\u7684\u914d\u7f6e\u5173\u6ce8\u7684\u8bed\u6cd5\u901a\u5e38\u662f\u6709\u5bb3\u7684\uff0c\u4e14\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a\u7981\u7528\u6216\u8005\u7ed9\u51fa\u8b66\u544a\uff0c\u56e0\u6b64\u9700\u8981\u663e\u5f0f\u901a\u8fc7\u914d\u7f6e\u6765\u5141\u8bb8\u8fd9\u4e9b\u6709\u5bb3\u8bed\u6cd5\uff0c\u5b83\u4eec\u7684\u540d\u79f0\u5747\u4e3a allowXXX \u8fd9\u79cd\u5f62\u5f0f\u3002"),(0,l.yg)("h4",{id:"allowumdglobalaccess"},"allowUmdGlobalAccess"),(0,l.yg)("p",null,"\u8fd9\u4e00\u914d\u7f6e\u4f1a\u5141\u8bb8\u4f60\u76f4\u63a5\u4f7f\u7528 UMD \u683c\u5f0f\u7684\u6a21\u5757\u800c\u4e0d\u9700\u8981\u5148\u5bfc\u5165\uff0c\u6bd4\u5982\u4f60\u901a\u8fc7 CDN \u5f15\u5165\u6216\u662f\u4efb\u4f55\u65b9\u5f0f\u6765\u786e\u4fdd\u5168\u5c40\u4e00\u5b9a\u4f1a\u6709\u8fd9\u4e2a\u53d8\u91cf\u3002\u800c UMD \u683c\u5f0f\u5176\u5b9e\u5c31\u662f\u901a\u7528\u6a21\u5757\u89c4\u8303\uff0c\u517c\u5bb9\u4e86 AMD \u4e0e CommonJs\uff08\u901a\u8fc7\u5224\u65ad\u5f53\u524d\u73af\u5883\u4e0b\u54ea\u79cd\u89c4\u8303\u53ef\u7528\u5c31\u4f7f\u7528\u54ea\u79cd\u89c4\u8303\uff09\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'// \u6e90\u7801\nexport const handler = () => { };\n\n// UMD \u7f16\u8bd1\u7ed3\u679c\n(function (global, factory) {\n    // \u5c1d\u8bd5\u4f7f\u7528 CommonJs\n    if (typeof module === "object" && typeof module.exports === "object") {\n        var v = factory(require, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    // \u5c1d\u8bd5\u4f7f\u7528 AMD\n    else if (typeof define === "function" && define.amd) {\n        define(["require", "exports"], factory);\n    }\n    // \u515c\u5e95\uff0c\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u6302\u8f7d\n    else {\n      (global = global || self, global.handle = factory());\n    }\n})(function (require, exports) {\n    "use strict";\n    Object.defineProperty(exports, "__esModule", { value: true });\n    exports.handler = void 0;\n    const handler = () => { };\n    exports.handler = handler;\n});\n')),(0,l.yg)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u5b83\u4f9d\u6b21\u5224\u65ad\u4e86 CommonJS \u4e0e AMD \u7684\u60c5\u51b5\uff0c\u5e76\u6700\u540e\u4f7f\u7528\u4e86\u5168\u5c40\u53d8\u91cf\u6765\u8fdb\u884c\u515c\u5e95\u3002\u56e0\u6b64\u4f60\u65e2\u53ef\u4ee5\u5bfc\u5165\u5b83\u6765\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u5168\u5c40\u8bbf\u95ee\u5b83\u3002"),(0,l.yg)("h4",{id:"allowunreachablecode"},"allowUnreachableCode"),(0,l.yg)("p",null,"Unreachable Code \u901a\u5e38\u6307\u7684\u662f\u65e0\u6cd5\u6267\u884c\u5230\u7684\u4ee3\u7801\uff0c\u4e5f\u79f0 Dead Code\uff0c\u5e38\u89c1\u7684 Unreachable Code \u5305\u62ec return \u8bed\u53e5\u3001throw \u8bed\u53e5\u4ee5\u53ca ",(0,l.yg)("inlineCode",{parentName:"p"},"process.exit")," \u540e\u7684\u4ee3\u7801\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"function foo() {\n  return 599;\n  console.log('Dead Code'); // Dead Code\n}\n\nfunction bar() {\n  throw new Error('Oops!');\n  console.log('Dead Code'); // Dead Code\n}\n")),(0,l.yg)("p",null,"allowUnreachableCode \u914d\u7f6e\u7684\u9ed8\u8ba4\u503c\u4e3a undefined\uff0c\u8868\u73b0\u4e3a\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u5e76\u4e0d\u4f1a\u629b\u51fa\u963b\u6b62\u8fc7\u7a0b\u7684\u9519\u8bef\uff0c\u800c\u53ea\u662f\u4e00\u4e2a\u8b66\u544a\u3002\u5b83\u4e5f\u53ef\u4ee5\u914d\u7f6e\u4e3a true\uff08\u5b8c\u5168\u5141\u8bb8\uff09\u4e0e false \uff08\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff09\u3002"),(0,l.yg)("h4",{id:"allowunusedlabels"},"allowUnusedLabels"),(0,l.yg)("p",null,(0,l.yg)("a",{parentName:"p",href:"https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FStatements%2Flabel"},"Label")," \u5e76\u4e0d\u662f\u6211\u4eec\u7ecf\u5e38\u4f1a\u63a5\u89e6\u7684\u6982\u5ff5\uff0c\u5b83\u7684\u8bed\u6cd5\u5927\u81f4\u662f\u8fd9\u6837\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"someLabel:\n    statement\n")),(0,l.yg)("p",null,"statement \u8bed\u53e5\u4f1a\u88ab\u6807\u8bb0\u4e3a someLabel \uff0c\u7136\u540e\u5728\u522b\u7684\u5730\u65b9\u4f60\u5c31\u53ef\u4ee5\u7528 someLabel \u6765\u5f15\u7528\u8fd9\u6bb5\u8bed\u53e5\u3002\u5982\u6807\u8bb0\u4e00\u4e2a\u51fd\u6570\uff08\u975e\u4e25\u683c\u6a21\u5f0f\u4e0b\uff09\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"L: function F() {}\n")),(0,l.yg)("p",null,"\u5982\u679c\u5728\u4e00\u4e2a\u4ee3\u7801\u5757\u4e2d\u4f7f\u7528 label \uff0c\u6548\u679c\u548c\u5bf9\u8c61\u5b57\u9762\u91cf\u975e\u5e38\u76f8\u4f3c\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"{\n  L: function F() {}\n}\n")),(0,l.yg)("p",null,"\u4e3a\u4e86\u533a\u5206 label \u4e0e\u5bf9\u8c61\u5b57\u9762\u91cf\uff0c\u8fd9\u6761\u89c4\u5219\u7981\u6b62\u4e86\u58f0\u660e\u4f46\u6ca1\u6709\u88ab\u5b9e\u9645\u4f7f\u7528\u7684 label \u6807\u8bb0\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"function verifyAge(age: number) {\n  if (age > 18) {\n    // Unused label.\n    verified: true;\n  }\n}\n")),(0,l.yg)("p",null,"\u8fd9\u6bb5\u4ee3\u7801\u5b9e\u9645\u4e0a\u60f3\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u5b57\u9762\u91cf\uff0c\u4f46\u5374\u5fd8\u8bb0\u4e86 return \uff0c\u5bfc\u81f4\u8fd9\u91cc\u9519\u8bef\u5730\u58f0\u660e\u4e86\u4e00\u4e2a Label\u3002"),(0,l.yg)("p",null,"\u7c7b\u4f3c\u4e8e allowUnreachableCode\uff0c\u8fd9\u6761\u914d\u7f6e\u4e5f\u53ef\u4f7f\u7528 undefined\uff08\u9ed8\u8ba4\uff09\u3001true\u3001false \u4e09\u4e2a\u503c\uff0c\u4e14\u6548\u679c\u4e5f\u4e00\u81f4\u3002"),(0,l.yg)("h3",{id:"\u7981\u6b62\u7c7b"},"\u7981\u6b62\u7c7b"),(0,l.yg)("p",null,"\u8fd9\u90e8\u5206\u914d\u7f6e\u7684\u5173\u6ce8\u70b9\u5176\u5b9e\u9664\u4e86\u7c7b\u578b\uff0c\u4e5f\u5305\u62ec\u5b9e\u9645\u7684\u4ee3\u7801\u903b\u8f91\uff0c\u5b83\u4eec\u4e3b\u8981\u5173\u6ce8\u672a\u88ab\u59a5\u5584\u5904\u7406\u7684\u903b\u8f91\u4ee3\u7801\u4e0e\u65e0\u7c7b\u578b\u4fe1\u606f\uff08\u624b\u52a8\u6807\u6ce8\u4e0e\u81ea\u52a8\u63a8\u5bfc\u5747\u65e0\uff09\u7684\u90e8\u5206\u3002\u53e6\u5916\uff0c\u90e8\u5206\u4ee3\u7801\u903b\u8f91\u68c0\u67e5\u5b9e\u9645\u4e0a ESLint \u4e5f\u53ef\u4ee5\u63d0\u4f9b\u3002"),(0,l.yg)("p",null,"\u8fd9\u90e8\u5206\u914d\u7f6e\u7684\u503c\u901a\u5e38\u53ea\u6709 true \u6216\u8005 false\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u4e0b\u9762\u53ea\u4f1a\u5bf9\u5b58\u5728\u989d\u5916\u7279\u6b8a\u60c5\u51b5\u7684\u914d\u7f6e\u503c\u505a\u8bb2\u89e3\u3002"),(0,l.yg)("h4",{id:"\u7c7b\u578b\u68c0\u67e5"},"\u7c7b\u578b\u68c0\u67e5"),(0,l.yg)("h5",{id:"noimplicitany"},"noImplicitAny"),(0,l.yg)("p",null,"\u5728\u4f60\u6ca1\u6709\u4e3a\u53d8\u91cf\u6216\u53c2\u6570\u6307\u5b9a\u7c7b\u578b\uff0c\u540c\u65f6 TypeScript \u4e5f\u65e0\u6cd5\u81ea\u52a8\u63a8\u5bfc\u5176\u7c7b\u578b\u65f6\uff0c\u8fd9\u91cc\u53d8\u91cf\u7684\u7c7b\u578b\u5c31\u4f1a\u88ab\u63a8\u5bfc\u4e3a any\u3002\u800c\u63a8\u5bfc\u4e3a any \u7c7b\u578b\u5c31\u610f\u5473\u7740\u4e27\u5931\u4e86\u7c7b\u578b\u68c0\u67e5\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"function fn(s) {\n  console.log(s.includes('linbudu'));\n}\n\nfn(42);\nfn(true);\nfn({});\n")),(0,l.yg)("p",null,"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u51fd\u6570 fn \u7684\u53c2\u6570 s \u6ca1\u6709\u58f0\u660e\u7c7b\u578b\uff0c\u56e0\u800c\u88ab\u63a8\u5bfc\u4e3a any\uff0c\u8fd9\u5c31\u5bfc\u81f4\u4f60\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\u7c7b\u578b\u7684\u503c\u6765\u8c03\u7528\uff0c\u8fd9\u65e0\u7591\u662f\u975e\u5e38\u5371\u9669\u7684\u3002\u5982\u679c\u4f60\u5e0c\u671b\u7981\u6b62\u8fd9\u4e00\u7c7b\u884c\u4e3a\uff0c\u53ef\u4ee5\u542f\u7528 noImplicitAny \u914d\u7f6e\uff0c\u7136\u540e\u8fd9\u79cd\u7531\u4e8e\u65e0\u7c7b\u578b\u6807\u6ce8\u5bfc\u81f4\u7684\u9690\u5f0f any \u7c7b\u578b\u63a8\u5bfc\u5c31\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002\u5f53\u7136\uff0c\u4f60\u4ecd\u7136\u53ef\u4ee5\u663e\u5f0f\u5730\u6807\u8bb0\u4e00\u4e2a\u7c7b\u578b\u4e3a any\uff0c\u4f46\u8fd9\u65f6\u5c31\u610f\u5473\u7740\uff0c",(0,l.yg)("strong",{parentName:"p"},"\u4f60\u786e\u5b9e\u5e0c\u671b\u5b83\u662f\u4e00\u4e2a any \u7c7b\u578b"),"\u3002"),(0,l.yg)("h5",{id:"useunknownincatchvariables"},"useUnknownInCatchVariables"),(0,l.yg)("p",null,"\u542f\u7528\u6b64\u914d\u7f6e\u540e\uff0ctry/catch \u8bed\u53e5\u4e2d catch \u7684 error \u7c7b\u578b\u4f1a\u88ab\u66f4\u6539\u4e3a unknown \uff08\u5426\u5219\u662f any \u7c7b\u578b\uff09\u3002\u8fd9\u6837\u53ef\u4ee5\u5728\u7c7b\u578b\u5c42\u9762\u786e\u4fdd\u5728 catch \u8bed\u53e5\u4e2d\u5bf9 error \u8fdb\u884c\u66f4\u59a5\u5f53\u7684\u5904\u7406\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"try {\n  // ...\n  // \u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u9519\u8bef\u7c7b\n  throw new NetworkError();\n} catch (err) {\n  if (err instanceof NetworkError) {}\n  if (err instanceof AuthError) {}\n  if (err instanceof CustomError) {}\n}\n")),(0,l.yg)("h4",{id:"\u903b\u8f91\u68c0\u67e5"},"\u903b\u8f91\u68c0\u67e5"),(0,l.yg)("h5",{id:"nofallthroughcasesinswitch"},"noFallthroughCasesInSwitch"),(0,l.yg)("p",null,"\u8fd9\u4e00\u914d\u7f6e\u786e\u4fdd\u5728\u4f60\u7684 switch case \u8bed\u53e5\u4e2d\u4e0d\u4f1a\u5b58\u5728\u8fde\u7eed\u6267\u884c\u591a\u4e2a case \u8bed\u53e5\u7684\u60c5\u51b5\u3002\u6ce8\u610f\uff0c\u8fde\u7eed\u6267\u884c\u6307\u7684\u662f\u67d0\u4e00\u4e2a case \u4e2d\u81ea\u5df1\u6267\u884c\u4e86\u4e13\u5c5e\u903b\u8f91\u540e\uff0c\u7531\u4e8e\u6ca1\u6709 break / return \u8bed\u53e5\u5bfc\u81f4\u7ee7\u7eed\u5411\u4e0b\u6267\u884c\u3002"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},'const a: number = 0;\n \nswitch (a) {\n  case 0:\n    console.log("zero");\n  case 1:\n    console.log("one");\n  case 2:\n    console.log("two");\n    break;\n}\n')),(0,l.yg)("p",null,"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0ccase 0\u3001case 1\u3001case 2 \u7684\u8bed\u53e5\u90fd\u4f1a\u6267\u884c\uff01\u8fd9\u662f\u56e0\u4e3a\u5728 JavaScript \u4e2d\uff0c\u5f53 switch case \u8bed\u53e5\u6267\u884c\u5b8c\u6bd5\u5339\u914d\u7684\u90a3\u4e2a case \u5b50\u53e5\u540e\uff0c\u5982\u679c\u6ca1\u6709 break \u6216\u8005 return\uff0c\u5c31\u4f1a\u63a5\u7740\u5f80\u4e0b\u6267\u884c\u4e0b\u4e00\u4e2a case\uff0c\u800c\u4e0d\u8bba\u5176\u6761\u4ef6\u662f\u5426\u5339\u914d\u3002"),(0,l.yg)("h5",{id:"noimplicitoverride"},"noImplicitOverride"),(0,l.yg)("p",null,"\u5728\u51fd\u6570\u4e0e Class \u4e00\u8282\u6211\u4eec\u6709\u8bb2\u5230\uff0c\u5728\u6d3e\u751f\u7c7b\u7ee7\u627f\u4e8e\u57fa\u7c7b\u65f6\uff0c\u901a\u5e38\u6211\u4eec",(0,l.yg)("strong",{parentName:"p"},"\u4e0d\u5e0c\u671b\u53bb\u8986\u76d6\u57fa\u7c7b\u5df2\u6709\u7684\u65b9\u6cd5"),"\uff08SOLID \u539f\u5219\uff09\uff0c\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u5728\u4efb\u4f55\u9700\u8981\u57fa\u7c7b\u7684\u5730\u65b9\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u653e\u5fc3\u5730\u4f20\u5165\u4e00\u4e2a\u6d3e\u751f\u7c7b\u3002"),(0,l.yg)("p",null,"\u5728\u771f\u7684\u9700\u8981\u8986\u76d6\u57fa\u7c7b\u65b9\u6cd5\u65f6\uff0c\u63a8\u8350\u7684\u65b9\u5f0f\u662f\u4f7f\u7528 override \u5173\u952e\u5b57\uff0c\u6807\u660e\u6b64\u65b9\u6cd5\u8986\u76d6\u4e86\u57fa\u7c7b\u4e2d\u7684\u65b9\u6cd5\u3002\u800c ",(0,l.yg)("inlineCode",{parentName:"p"},"noImplicitOverride")," \u8fd9\u4e00\u914d\u7f6e\u7684\u4f5c\u7528\uff0c\u5c31\u662f\u907f\u514d\u4f60\u5728\u4e0d\u4f7f\u7528 override \u5173\u952e\u5b57\u7684\u60c5\u51b5\u4e0b\u5c31\u8986\u76d6\u4e86\u57fa\u7c7b\u65b9\u6cd5\u3002"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"class Base {\n  print() { }\n}\n\nclass Derived1 extends Base {\n  override print() {\n    // ...\n  }\n}\n\nclass Derived2 extends Base {\n  // \u9519\u8bef\uff01\u6ca1\u6709\u4f7f\u7528 override \u5173\u952e\u5b57\n  print() {\n    // ...\n  }\n}\n")),(0,l.yg)("h5",{id:"noimplicitreturns"},"noImplicitReturns"),(0,l.yg)("p",null,"\u8fd9\u4e00\u914d\u7f6e\u4f1a\u786e\u4fdd\u6240\u6709\u8fd4\u56de\u503c\u7c7b\u578b\u4e2d\u4e0d\u5305\u542b undefined \u7684\u51fd\u6570\uff0c\u5728\u5176\u5185\u90e8\u6240\u6709\u7684\u6267\u884c\u8def\u5f84\u4e0a\u90fd\u9700\u8981\u6709 return \u8bed\u53e5\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"// \u51fd\u6570\u7f3a\u5c11\u7ed3\u675f return \u8bed\u53e5\uff0c\u8fd4\u56de\u7c7b\u578b\u4e0d\u5305\u62ec \"undefined\"\u3002\nfunction handle(color: 'blue' | 'black'): string {\n  if (color === 'blue') {\n    return 'beats';\n  } else {\n    ('bose');\n  }\n}\n")),(0,l.yg)("p",null,"\u6211\u4eec\u5728 else \u5206\u652f\u5fd8\u8bb0\u4e86 return\uff0c\u8fd9\u91cc\u7acb\u523b\u5c31\u7ed9\u5230\u4e86\u4e00\u4e2a\u62a5\u9519\u3002\u8fd9\u4e00\u914d\u7f6e\u53ef\u4ee5\u786e\u4fdd\u5728\u5b58\u5728\u590d\u6742\u5d4c\u5957\u8def\u5f84\u7684\u51fd\u6570\u4e2d\uff0c\u6240\u6709\u8def\u5f84\u6700\u540e\u90fd\u663e\u5f0f\u6267\u884c\u4e86 return \u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5047\u8bbe\u6211\u4eec\u7684\u51fd\u6570\u5e0c\u671b\u5148\u68c0\u67e5\u4e00\u904d\u53c2\u6570\uff0c\u5982\u679c\u4e0d\u7b26\u8981\u6c42\u5c31\u63d0\u524d\u8fd4\u56de\uff0c\u6b64\u65f6\u5982\u679c\u5fd8\u8bb0\u6dfb\u52a0 return\uff0c\u4f1a\u5bfc\u81f4\u540e\u9762\u7684\u903b\u8f91\u4ecd\u7136\u9519\u8bef\u6267\u884c\u3002"),(0,l.yg)("h5",{id:"noimplicitthis"},"noImplicitThis"),(0,l.yg)("p",null,"JavaScript \u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5176\u5b9e\u7ecf\u5e38\u89c1\u5230 this\uff0cthis \u7684\u6307\u5411\u4e5f\u4e00\u76f4\u662f\u4e00\u4e2a\u5f88\u70e6\u4eba\u7684\u95ee\u9898\u3002\u867d\u7136\u5728 ES6 \u5360\u636e\u4e3b\u5bfc\u5730\u4f4d\u7684\u4eca\u5929\uff0c\u6211\u4eec\u901a\u5e38\u53ea\u4f1a\u5728 Class \u5185\u90e8\u4f7f\u7528 this\uff0cTypeScript \u8fd8\u662f\u4e3a this \u7559\u4e86\u4e00\u5e2d\u4e4b\u5730\u3002\u6bd4\u5982\u51fd\u6570\u4e0e Class \u7684\u65b9\u6cd5\u4e2d\uff0c\u5b9e\u9645\u4e0a\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f this\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"function foo(this: any, name: string) {}\n")),(0,l.yg)("p",null,"\u8fd9\u4e2a this \u53c2\u6570\u5b9e\u9645\u4e0a\u5c31\u662f\u51fd\u6570\u6267\u884c\u65f6\u6307\u5411\u7684 this\uff0c\u4f60\u53ef\u4ee5\u5728\u5b9e\u9645\u60c5\u51b5\u4e2d\u7075\u6d3b\u5730\u6307\u5b9a this \u4e3a\u5177\u4f53\u7c7b\u578b\u3002\u5982\u679c\u4f60\u5e76\u4e0d\u58f0\u660e this \u7c7b\u578b\u800c\u662f\u76f4\u63a5\u8bbf\u95ee\uff0c\u5c31\u4f1a\u5f97\u5230\u4e00\u4e2a\u9519\u8bef\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},'function foo(name: string) {\n  // "this" \u9690\u5f0f\u5177\u6709\u7c7b\u578b "any"\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6709\u7c7b\u578b\u6ce8\u91ca\u3002\n  this.name = name;\n}\n')),(0,l.yg)("p",null,"\u8fd9\u5c31\u662f ",(0,l.yg)("inlineCode",{parentName:"p"},"noImplicitThis")," \u914d\u7f6e\u6240\u5173\u6ce8\u7684\u5185\u5bb9\uff0c\u5b83\u786e\u4fdd\u4f60\u5728\u4f7f\u7528 this \u8bed\u6cd5\u65f6\u4e00\u5b9a\u80fd\u591f\u786e\u5b9a this \u7684\u5177\u4f53\u7c7b\u578b\uff0c\u5f53\u7136\uff0c\u4f60\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528 any \u3002"),(0,l.yg)("h5",{id:"nopropertyaccessfromindexsignature-\u4e0e-nouncheckedindexedaccess"},"noPropertyAccessFromIndexSignature \u4e0e noUncheckedIndexedAccess"),(0,l.yg)("p",null,"\u5728\u7d22\u5f15\u7c7b\u578b\u4e00\u8282\u6211\u4eec\u77e5\u9053\uff0c\u53ef\u4ee5\u901a\u8fc7\u7d22\u5f15\u7b7e\u540d\u7c7b\u578b\u6765\u58f0\u660e\u4e00\u4e2a\u4ec5\u786e\u5b9a\u952e\u503c\u7c7b\u578b\u800c\u4e0d\u786e\u5b9a\u5177\u4f53\u5c5e\u6027\u7684\u63a5\u53e3\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"interface AllStringTypes {\n  name: string;\n  [key: string]: string;\n}\n\ntype PropType1 = AllStringTypes['unknownProp']; // string\ntype PropType2 = AllStringTypes['name']; // string\n")),(0,l.yg)("p",null,"\u7d22\u5f15\u7c7b\u578b\u7b7e\u540d\u7684\u786e\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5feb\u901f\u751f\u6210\u4e00\u4e2a\u968f\u610f\u4f7f\u7528\u7684\u63a5\u53e3\u7ed3\u6784\uff0c\u4f46\u5728\u67d0\u4e9b\u65f6\u5019\u4e5f\u4f1a\u5e26\u6765\u5371\u9669\uff0c\u6bd4\u5982\u4f60\u5fd8\u8bb0\u4e86\u68c0\u67e5\u8fd9\u4e2a\u5c5e\u6027\u662f\u4e0d\u662f\u771f\u7684\u5b58\u5728\u3002"),(0,l.yg)("p",null,"\u8fd9\u4e24\u6761\u914d\u7f6e\u7684\u529f\u80fd\u5c31\u662f\u8ba9\u5bf9\u57fa\u4e8e\u7d22\u5f15\u7b7e\u540d\u7c7b\u578b\u58f0\u660e\u7684\u7ed3\u6784\u5c5e\u6027\u8bbf\u95ee\u66f4\u5b89\u5168\u4e00\u4e9b\uff0c\u5176\u4e2d ",(0,l.yg)("inlineCode",{parentName:"p"},"noPropertyAccessFromIndexSignature")," \u914d\u7f6e\u7981\u6b62\u4e86\u5bf9\u672a\u77e5\u5c5e\u6027\uff08\u5982 ",(0,l.yg)("inlineCode",{parentName:"p"},"'unknownProp'"),"\uff09\u7684\u8bbf\u95ee\uff0c\u5373\u4f7f\u5b83\u4eec\u5df2\u5728\u7d22\u5f15\u7c7b\u578b\u7b7e\u540d\u4e2d\u88ab\u9690\u5f0f\u58f0\u660e\u3002\u800c\u5bf9\u4e8e\u5177\u4f53\u58f0\u660e\u7684\u5df2\u77e5\u5c5e\u6027\u8bbf\u95ee\uff0c\u5982 ",(0,l.yg)("inlineCode",{parentName:"p"},"name")," \u5219\u4e0d\u4f1a\u6709\u95ee\u9898\u3002"),(0,l.yg)("p",null,"\u800c ",(0,l.yg)("inlineCode",{parentName:"p"},"noUncheckedIndexedAccess")," \u914d\u7f6e\u5219\u5bbd\u677e\u4e00\u4e9b\uff0c\u5b83\u4f1a\u5c06\u4e00\u4e2a undefined \u7c7b\u578b\u9644\u52a0\u5230\u5bf9\u672a\u77e5\u5c5e\u6027\u8bbf\u95ee\u7684\u7c7b\u578b\u7ed3\u679c\u4e0a\uff0c\u6bd4\u5982 ",(0,l.yg)("inlineCode",{parentName:"p"},"PropType1")," \u7684\u7c7b\u578b\u4f1a\u662f ",(0,l.yg)("inlineCode",{parentName:"p"},"string | undefined"),"\uff0c\u8fd9\u6837\u80fd\u591f\u63d0\u9192\u4f60\u5728\u5bf9\u8fd9\u4e2a\u5c5e\u6027\u8fdb\u884c\u8bfb\u5199\u65f6\u8fdb\u884c\u4e00\u6b21\u7a7a\u68c0\u67e5\u3002"),(0,l.yg)("h5",{id:"nounusedlocals-\u4e0e-nounusedparameters"},"noUnusedLocals \u4e0e noUnusedParameters"),(0,l.yg)("p",null,"\u662f\u5426\u5141\u8bb8\u5b58\u5728",(0,l.yg)("strong",{parentName:"p"},"\u58f0\u660e\u4f46\u672a\u4f7f\u7528\u7684\u53d8\u91cf\u548c\u51fd\u6570\u53c2\u6570"),"\uff0c\u5c31\u50cf ESLint \u4e00\u6837\uff0c\u8fd9\u91cc\u5c31\u4e0d\u505a\u4ecb\u7ecd\u4e86\u3002"),(0,l.yg)("h3",{id:"\u4e25\u683c\u68c0\u67e5"},"\u4e25\u683c\u68c0\u67e5"),(0,l.yg)("h4",{id:"exactoptionalpropertytypes"},"exactOptionalPropertyTypes"),(0,l.yg)("p",null,"\u8fd9\u4e00\u914d\u7f6e\u4f1a\u4f7f\u5f97 TypeScript \u5bf9\u53ef\u9009\u5c5e\u6027\uff08\u5373\u4f7f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"?")," \u4fee\u9970\u7684\u5c5e\u6027\uff09\u542f\u7528\u66f4\u4e25\u683c\u68c0\u67e5\uff0c\u5982\u4ee5\u4e0b\u8fd9\u4e2a\u4f8b\u5b50\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},'interface ITheme {\n  prefer?: "dark" | "light";\n}\n')),(0,l.yg)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cprefer \u5c5e\u6027\u7684\u7c7b\u578b\u5b9e\u9645\u4e3a ",(0,l.yg)("inlineCode",{parentName:"p"},'"dark" | "light" | undefined'),"\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},'interface ITheme {\n  prefer?: "dark" | "light";\n}\n\ndeclare const theme: ITheme;\n\ntheme.prefer = "dark";\ntheme.prefer = "light";\ntheme.prefer = undefined;\n')),(0,l.yg)("p",null,"\u5c06\u8fd9\u4e2a\u5c5e\u6027\u8bbe\u7f6e\u4e3a undefined \u5176\u5b9e\u5f88\u5bb9\u6613\u9020\u6210\u56f0\u60d1\uff0c\u4f60\u662f\u5e0c\u671b\u8fd9\u4e2a\u5c5e\u6027\u88ab\u79fb\u9664\u6389\u5462\uff0c\u8fd8\u662f\u5e0c\u671b\u8868\u793a\u8fd9\u4e2a\u5c5e\u6027\u76ee\u524d\u6ca1\u6709\u503c\uff08\u8fd9\u65f6\u96be\u9053\u4e0d\u5e94\u8be5\u7528 null \u5417\uff09\uff1f"),(0,l.yg)("p",null,"\u4e3a\u4e86\u907f\u514d\u8fd9\u4e00\u60c5\u51b5\uff0c\u4f60\u53ef\u4ee5\u542f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"exactOptionalPropertyTypes")," \u914d\u7f6e\uff0c\u6b64\u65f6 undefined \u4e0d\u4f1a\u518d\u88ab\u5141\u8bb8\u4f5c\u4e3a\u53ef\u9009\u5c5e\u6027\u7684\u503c\uff0c\u9664\u975e\u4f60\u663e\u5f0f\u6dfb\u52a0\u4e00\u4e2a undefined \u7c7b\u578b\u3002"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},'// \u7c7b\u578b \u201cundefined\u201d \u4e0d\u80fd\u5206\u914d\u7ed9\u201cexactOptionalPropertyTypes: true\u201d\u7684\u7c7b\u578b \u201c"dark" | "light"\u201d\u3002\u8bf7\u8003\u8651\u5c06 \u201cundefined\u201d \u6dfb\u52a0\u5230\u76ee\u6807\u7c7b\u578b\u3002\ntheme.prefer = undefined;\n\ninterface ITheme {\n  // \u9700\u8981\u8fd9\u4e48\u505a\u624d\u53ef\u4ee5\n  prefer?: "dark" | "light" | undefined;\n}\n')),(0,l.yg)("h4",{id:"alwaysstrict"},"alwaysStrict"),(0,l.yg)("p",null,"\u8fd8\u8bb0\u5f97 ES5 \u4e2d\u7684\u4e25\u683c\u6a21\u5f0f\u5417\uff1f\u8fd9\u4e00\u914d\u7f6e\u5c31\u662f\u5b83\u5728 TS \u4e2d\u7684\u4f53\u73b0\uff0calwaysStrict \u914d\u7f6e\u4f1a\u4f7f\u5f97 TS \u5bf9\u6240\u6709\u6587\u4ef6\u4f7f\u7528\u4e25\u683c\u6a21\u5f0f\u8fdb\u884c\u68c0\u67e5\uff08\u8868\u73b0\u5728\u4f1a\u7981\u7528\u6389\u4e00\u90e8\u5206\u8bed\u6cd5\uff09\uff0c\u540c\u65f6\u751f\u6210\u7684 js \u6587\u4ef6\u5f00\u5934\u4e5f\u4f1a\u6709 ",(0,l.yg)("inlineCode",{parentName:"p"},"'use strict'")," \u6807\u8bb0\u3002"),(0,l.yg)("h4",{id:"strict"},"strict"),(0,l.yg)("p",null,"strict \u5176\u5b9e\u662f\u4e00\u7ec4\u89c4\u5219\u7684\u5f00\u5173\uff0c\u5f00\u542f strict \u4f1a\u9ed8\u8ba4\u5c06\u8fd9\u4e9b\u89c4\u5219\u5168\u90e8\u542f\u7528\uff0c\u5305\u62ec\uff1a"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"alwaysStrict"),"\u3001",(0,l.yg)("inlineCode",{parentName:"li"},"useUnknownInCatchVariables")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"noFallthroughCasesInSwitch"),"\u3001",(0,l.yg)("inlineCode",{parentName:"li"},"noImplicitAny"),"\u3001",(0,l.yg)("inlineCode",{parentName:"li"},"noImplicitThis")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"strictNullChecks"),"\u3001",(0,l.yg)("inlineCode",{parentName:"li"},"strictBindCallApply"),"\u3001",(0,l.yg)("inlineCode",{parentName:"li"},"strictFunctionTypes"),"\u3001",(0,l.yg)("inlineCode",{parentName:"li"},"strictPropertyInitialization"))),(0,l.yg)("p",null,"\u8fd9\u4e9b\u89c4\u5219\u6211\u4eec\u5747\u4f1a\u5728\u63a5\u4e0b\u6765\u4ecb\u7ecd\u3002"),(0,l.yg)("h4",{id:"strictbindcallapply"},"strictBindCallApply"),(0,l.yg)("p",null,"JavaScript \u4e2d\u53ef\u4ee5\u901a\u8fc7 bind\u3001call\u3001apply \u6765\u6539\u53d8\u4e00\u4e2a\u51fd\u6570\u7684 this \u6307\u5411\uff0c\u7edd\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u5373\u4f7f\u6539\u53d8\u4e86 this \u6307\u5411\uff0c\u51fd\u6570\u7684\u5165\u53c2\u4e5f\u5e94\u5f53\u662f\u4e0d\u53d8\u7684\u3002\u8fd9\u6761\u914d\u7f6e\u4f1a\u786e\u4fdd\u5728\u4f7f\u7528 bind\u3001call\u3001apply \u65b9\u6cd5\u65f6\uff0c\u5176\u7b2c\u4e8c\u4e2a\u5165\u53c2\uff08\u5373",(0,l.yg)("strong",{parentName:"p"},"\u5c06\u7528\u4e8e\u8c03\u7528\u539f\u51fd\u6570\u7684\u5165\u53c2"),"\uff09\u9700\u8981\u4e0e\u539f\u51fd\u6570\u5165\u53c2\u7c7b\u578b\u4fdd\u6301\u4e00\u81f4\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"function fn(x: string) {\n  return parseInt(x);\n}\n\nconst n1 = fn.call(undefined, '10');\n\n// \u7c7b\u578b\u201cboolean\u201d\u7684\u53c2\u6570\u4e0d\u80fd\u8d4b\u7ed9\u7c7b\u578b\u201cstring\u201d\u7684\u53c2\u6570\u3002\nconst n2 = fn.call(undefined, false);\n")),(0,l.yg)("h4",{id:"strictfunctiontypes"},"strictFunctionTypes"),(0,l.yg)("p",null,"\u5bf9\u51fd\u6570\u7c7b\u578b\u542f\u7528\u66f4\u4e25\u683c\u7684\u68c0\u67e5\uff0c\u5373\u6211\u4eec\u5728\u51fd\u6570\u7c7b\u578b\u6bd4\u8f83\u4e00\u8282\u4e2d\u8bb2\u5230\u7684\uff0c\u5bf9\u53c2\u6570\u7c7b\u578b\u542f\u7528\u9006\u53d8\u68c0\u67e5\u3002"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"function fn(x: string) {\n  console.log('Hello, ' + x.toLowerCase());\n}\n\ntype StringOrNumberFunc = (ns: string | number) => void;\n\n// \u4e0d\u80fd\u5c06\u7c7b\u578b\u201cstring | number\u201d\u5206\u914d\u7ed9\u7c7b\u578b\u201cstring\u201d\u3002\nlet func: StringOrNumberFunc = fn;\n")),(0,l.yg)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5bf9\u4e8e\u63a5\u53e3\u4e2d\u7684\u51fd\u6570\u7c7b\u578b\uff0c\u53ea\u6709\u901a\u8fc7 property \u5f62\u5f0f\u58f0\u660e\u624d\u4f1a\u63a5\u53d7\u4e25\u683c\u68c0\u67e5\uff0c\u5373\u4ee5\u4e0b\u4ee3\u7801\u4e0d\u4f1a\u88ab\u68c0\u67e5\u51fa\u9519\u8bef\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},'type Methodish = {\n  func(x: string | number): void;\n};\n \nfunction fn(x: string) {\n  console.log("Hello, " + x.toLowerCase());\n}\n \nconst m: Methodish = {\n  // \u6ca1\u6709\u5bf9\u51fd\u6570\u53c2\u6570\u7c7b\u578b\u8fdb\u884c\u9006\u53d8\u68c0\u67e5\n  func: fn,\n};\n\n// \u5b9e\u9645\u8fd0\u884c\u5c06\u4f1a\u62a5\u9519\nm.func(10);\n')),(0,l.yg)("h4",{id:"strictnullchecks"},"strictNullChecks"),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"\u8fd9\u662f\u5728\u4efb\u4f55\u89c4\u6a21\u9879\u76ee\u5185\u90fd\u5e94\u8be5\u5f00\u542f\u7684\u4e00\u6761\u89c4\u5219"),"\u3002\u5728\u8fd9\u6761\u89c4\u5219\u5173\u95ed\u7684\u60c5\u51b5\u4e0b\uff0cnull \u548c undefined \u4f1a\u88ab\u9690\u5f0f\u5730\u89c6\u4e3a\u4efb\u4f55\u7c7b\u578b\u7684\u5b50\u7c7b\u578b\uff0c\u8fd8\u8bb0\u5f97\u6211\u4eec\u524d\u9762\u7684\u4f8b\u5b50\u5417\uff1f"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"// \u4ee5\u4e0b\u4e24\u4e2a\u4ec5\u5728\u5173\u95ed strictNullChecks \u65f6\u6210\u7acb\nconst tmp3: string = null;\nconst tmp4: string = undefined;\n")),(0,l.yg)("p",null,"\u5728\u67d0\u4e9b\u53ef\u80fd\u4ea7\u751f ",(0,l.yg)("inlineCode",{parentName:"p"},"string | undefined")," \u7c7b\u578b\u7684\u65b9\u6cd5\u4e2d\uff0c\u5982\u679c\u5173\u95ed\u4e86 strictNullChecks \u68c0\u67e5\uff0c\u5c31\u610f\u5473\u7740\u5f88\u53ef\u80fd\u4e0b\u9762\u4f1a\u9047\u5230\u4e00\u4e2a ",(0,l.yg)("strong",{parentName:"p"},(0,l.yg)("em",{parentName:"strong"},"cannot read property 'xxx' of undefined"))," \u7684\u9519\u8bef\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"const matcher: string = \"budu\";\n\nconst list = ['linbudu', '599'];\n\n// \u4e3a string \u7c7b\u578b\nconst target = list.find((u) => u.includes(matcher);\n\nconsole.log(target.replace('budu', 'wuhu'));\n")),(0,l.yg)("p",null,"\u5728\u8fd9\u91cc\uff0ctarget \u7684\u7c7b\u578b\u5e94\u8be5\u662f ",(0,l.yg)("inlineCode",{parentName:"p"},"string | undefined"),"\uff0c\u4e0b\u9762\u7684 ",(0,l.yg)("inlineCode",{parentName:"p"},"target.replace")," \u8bbf\u95ee\u5e76\u4e0d\u4e00\u5b9a\u80fd\u6210\u529f\u3002\u4f46\u5173\u95ed\u4e86 strictNullChecks \u68c0\u67e5\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u4e0d\u80fd\u53ca\u65f6\u53d1\u73b0\u8fd9\u4e00\u70b9\u4e86\u3002"),(0,l.yg)("h4",{id:"strictpropertyinitialization"},"strictPropertyInitialization"),(0,l.yg)("p",null,"\u8fd9\u4e00\u914d\u7f6e\u8981\u6c42 Class \u4e2d\u7684\u6240\u6709\u5c5e\u6027\u90fd\u9700\u8981\u5b58\u5728\u4e00\u4e2a\u521d\u59cb\u503c\uff0c\u65e0\u8bba\u662f\u5728\u58f0\u660e\u65f6\u5c31\u63d0\u4f9b\u8fd8\u662f\u5728\u9020\u51fd\u6570\u4e2d\u521d\u59cb\u5316\u3002"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"class Foo {\n  prop1: number = 599;\n  prop2: number;\n  // \u5c5e\u6027\u201cprop3\u201d\u6ca1\u6709\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\uff0c\u4e14\u672a\u5728\u6784\u9020\u51fd\u6570\u4e2d\u660e\u786e\u8d4b\u503c\u3002\n  prop3: number;\n\n  constructor(public prop4: number) {\n    this.prop2 = prop4;\n  }\n}\n")),(0,l.yg)("p",null,"\u8fd9\u6761\u914d\u7f6e\u6709\u65f6\u5019\u4e5f\u4e0d\u5b8c\u5168\u5408\u7406\uff0c\u5982\u6211\u4eec\u5c06\u521d\u59cb\u5316\u903b\u8f91\u653e\u5728\u4e00\u4e2a\u5355\u72ec\u51fd\u6570\u4e2d\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"class Foo {\n  prop1: number = 599;\n  prop2: number;\n  // \u5c5e\u6027\u201cprop3\u201d\u6ca1\u6709\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\uff0c\u4e14\u672a\u5728\u6784\u9020\u51fd\u6570\u4e2d\u660e\u786e\u8d4b\u503c\u3002\n  prop3: number;\n\n  constructor(public prop4: number) {\n    this.prop2 = prop4;\n    this.init();\n  }\n\n  init() {\n    this.prop3 = 599;\n  }\n}\n")),(0,l.yg)("p",null,"\u6b64\u65f6\u62a5\u9519\u4ecd\u7136\u5b58\u5728\uff0c\u4f46\u6211\u4eec\u5176\u5b9e\u5df2\u7ecf\u786e\u4fdd\u4e86\u6709\u521d\u59cb\u503c\u7684\u5b58\u5728\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f9d\u636e\u5b9e\u9645\u9700\u8981\u4f7f\u7528\u975e\u7a7a\u65ad\u8a00\u6216\u53ef\u9009\u4fee\u9970\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"class Foo {\n  prop3!: number;\n  _prop3?: number;\n}\n")),(0,l.yg)("h3",{id:"skiplibcheck-\u4e0e-skipdefaultlibcheck"},"skipLibCheck \u4e0e skipDefaultLibCheck"),(0,l.yg)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cTypeScript \u4f1a\u5bf9\u52a0\u8f7d\u7684\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u4e5f\u8fdb\u884c\u68c0\u67e5\uff0c\u5305\u62ec\u5185\u7f6e\u7684 ",(0,l.yg)("inlineCode",{parentName:"p"},"lib.d.ts")," \u7cfb\u5217\u4e0e ",(0,l.yg)("inlineCode",{parentName:"p"},"@types/")," \u4e0b\u7684\u58f0\u660e\u6587\u4ef6\u3002\u5728\u67d0\u4e9b\u65f6\u5019\uff0c\u8fd9\u4e9b\u58f0\u660e\u6587\u4ef6\u53ef\u80fd\u5b58\u5728\u51b2\u7a81\uff0c\u6bd4\u5982\u4e24\u4e2a\u4e0d\u540c\u6765\u6e90\u7684\u58f0\u660e\u6587\u4ef6\u4f7f\u7528\u4e0d\u540c\u7684\u7c7b\u578b\u58f0\u660e\u4e86\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u3002\u6b64\u65f6\uff0c\u4f60\u5c31\u53ef\u4ee5\u4f7f\u7528 skipLibCheck \u8df3\u8fc7\u5bf9\u8fd9\u4e9b\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u7684\u68c0\u67e5\uff0c\u8fd9\u4e5f\u80fd\u8fdb\u4e00\u6b65\u52a0\u5feb\u7f16\u8bd1\u901f\u5ea6\u3002"),(0,l.yg)("p",null,(0,l.yg)("inlineCode",{parentName:"p"},"skipDefaultLibCheck")," \u7c7b\u4f3c\u4e8e ",(0,l.yg)("inlineCode",{parentName:"p"},"skipLibCheck")," \uff0c\u4f46\u5b83\u53ea\u4f1a\u8df3\u8fc7\u90a3\u4e9b\u4f7f\u7528\u4e86 ",(0,l.yg)("inlineCode",{parentName:"p"},'/// <reference no-default-lib="true"/>')," \u6307\u4ee4\u7684\u58f0\u660e\u6587\u4ef6\uff08\u5982\u5185\u7f6e\u7684 ",(0,l.yg)("inlineCode",{parentName:"p"},"lib.d.ts"),"\uff09\uff0c\u8fd9\u4e00\u4e09\u659c\u7ebf\u6307\u4ee4\u7684\u4f5c\u7528\u5373\u662f",(0,l.yg)("strong",{parentName:"p"},"\u5c06\u6b64\u6587\u4ef6\u6807\u8bb0\u4e3a\u9ed8\u8ba4\u5e93\u58f0\u660e"),"\uff0c\u56e0\u6b64\u5f00\u542f\u8fd9\u4e00\u914d\u7f6e\u540e\uff0c\u7f16\u8bd1\u5668\u5728\u5904\u7406\u5176\u6587\u4ef6\u65f6\u4e0d\u4f1a\u518d\u5c1d\u8bd5\u5f15\u5165\u9ed8\u8ba4\u5e93\u58f0\u660e\u3002"),(0,l.yg)("h2",{id:"\u5de5\u7a0b\u76f8\u5173"},"\u5de5\u7a0b\u76f8\u5173"),(0,l.yg)("h3",{id:"project-references"},"Project References"),(0,l.yg)("p",null,"Project References \u8fd9\u4e00\u914d\u7f6e\u4f7f\u5f97\u4f60\u53ef\u4ee5\u5c06\u6574\u4e2a\u5de5\u7a0b\u62c6\u5206\u6210\u591a\u4e2a\u90e8\u5206\uff0c\u6bd4\u5982\u4f60\u7684 UI \u90e8\u5206\u3001Hooks \u90e8\u5206\u4ee5\u53ca\u4e3b\u5e94\u7528\u7b49\u7b49\u3002\u8fd9\u4e00\u529f\u80fd\u548c Monorepo \u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u5b83\u5e76\u4e0d\u9700\u8981\u5404\u4e2a\u5b50\u9879\u76ee\u62e5\u6709\u81ea\u5df1\u72ec\u7acb\u7684 package.json\u3001\u72ec\u7acb\u5b89\u88c5\u4f9d\u8d56\u3001\u72ec\u7acb\u6784\u5efa\u7b49\u3002\u901a\u8fc7 Project References \uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u8fd9\u4e9b\u90e8\u5206\u7684\u5f15\u7528\u5173\u7cfb\uff0c\u4e3a\u5b83\u4eec\u4f7f\u7528\u72ec\u7acb\u7684 tsconfig \u914d\u7f6e\u3002"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-json"},'{\n    "compilerOptions": {},\n    "references": [\n        { "path": "../ui-components" },\n        { "path": "../hooks" },\n        { "path": "../utils" },\n    ]\n}\n')),(0,l.yg)("blockquote",null,(0,l.yg)("p",{parentName:"blockquote"},"\u5173\u4e8e\u5177\u4f53\u9879\u76ee\uff0c\u8bf7\u53c2\u8003\u6211\u4eec\u4ed3\u5e93\u4e2d\u7684\u793a\u4f8b\u3002")),(0,l.yg)("p",null,"\u8fd9\u4e00\u7279\u6027\u5b9e\u9645\u4e0a\u4e5f\u8ba9 tsc \u4e0d\u518d\u53ea\u662f\u4e00\u4e2a\u7f16\u8bd1\u5668\u4e86\uff0c\u5b83\u73b0\u5728\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u7c7b\u4f3c\u4e8e lerna \u90a3\u6837\u7684 Script Runner\uff0c\u5373\u5728\u591a\u4e2a\u5b50\u9879\u76ee\u4e4b\u95f4\u53bb\u786e\u5b9a\u4e00\u6761\u987a\u5e8f\u6b63\u786e\u7684\u6784\u5efa\u94fe\u8def\u3002\u4e5f\u56e0\u6b64\uff0c\u5728\u4f7f\u7528 Project References \u7684\u9879\u76ee\u4e2d\uff0c\u9700\u8981\u4f7f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"tsc --build")," \u800c\u975e ",(0,l.yg)("inlineCode",{parentName:"p"},"tsc")," \u6765\u8fdb\u884c\u6784\u5efa\uff0c\u6b64\u65f6 tsc \u4f1a\u9996\u5148\u786e\u5b9a\u6574\u4e2a\u5f15\u7528\u5173\u7cfb\u56fe\uff0c\u7136\u540e\u68c0\u67e5\u4e0a\u9762\u4f5c\u4e3a\u5b50\u7ed3\u70b9\u7684\u9879\u76ee\u662f\u5426\u662f\u6700\u65b0\u6784\u5efa\u7684\uff0c\u6700\u540e\u624d\u57fa\u4e8e\u5f15\u7528\u987a\u5e8f\u53bb\u6784\u5efa\u8fd9\u4e9b\u975e\u6700\u65b0\u7684\u9879\u76ee\u3002"),(0,l.yg)("p",null,"\u6211\u4eec\u53ef\u4ee5\u6765\u5b9e\u9645\u4f53\u9a8c\u4e00\u4e0b\uff0c\u5047\u8bbe\u8981\u6784\u5efa\u7684\u9879\u76ee\u7ed3\u6784\u662f\u8fd9\u6837\u7684\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-text"},"PROJECT\n\u251c\u2500\u2500 app\n\u2502   \u251c\u2500\u2500 index.ts\n\u2502   \u251c\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 core\n\u2502   \u251c\u2500\u2500 index.ts\n\u2502   \u251c\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 ui\n\u2502   \u251c\u2500\u2500 index.ts\n\u2502   \u251c\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 utils\n\u2502   \u251c\u2500\u2500 index.ts\n\u2502   \u251c\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 tsconfig.base.json\n")),(0,l.yg)("p",null,"\u8fd9\u56db\u4e2a\u9879\u76ee\u7684\u5f15\u7528\u5173\u7cfb\u662f\u8fd9\u6837\u7684\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-text"},"app -> core, ui, utils\ncore -> utils\n")),(0,l.yg)("p",null,"\u8fd9\u56db\u4e2a\u9879\u76ee\u53ef\u4ee5\u4f7f\u7528\u5b8c\u5168\u72ec\u7acb\u7684 TSConfig \u914d\u7f6e\uff0c\u5982 utils \u7684 target \u4e3a ES5\uff0c\u800c app \u7684 target \u5219\u53ef\u4ee5\u662f ESNext \uff0c\u90a3\u4e48\u68c0\u67e5\u914d\u7f6e\u3001\u529f\u80fd\u914d\u7f6e\u7b49\u81ea\u7136\u4e5f\u53ef\u4ee5\u4e0d\u540c\u3002"),(0,l.yg)("p",null,"\u9996\u5148\uff0c\u5728 ",(0,l.yg)("inlineCode",{parentName:"p"},"app/tsconfig.json")," \u4e2d\u5b9a\u4e49\u5f15\u7528\u5173\u7cfb\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "extends": "../tsconfig.base.json",\n  "compilerOptions": {\n    "target": "ESNext",\n    "module": "ESNext",\n    "baseUrl": ".",\n    "outDir": "../dist/app"\n  },\n  "include": ["./**/*.ts"],\n  "references": [\n    {\n      "path": "../utils"\n    },\n    {\n      "path": "../core"\n    },\n    {\n      "path": "../ui"\n    }\n  ]\n}\n')),(0,l.yg)("p",null,"\u8fd9\u91cc\u7684 outDir \u88ab\u914d\u7f6e\u4e3a\u7236\u7ea7\u76ee\u5f55\uff0c\u56e0\u4e3a\u6211\u4eec\u4ecd\u7136\u5e0c\u671b\u8fd9\u56db\u4e2a\u9879\u76ee\u7684\u6784\u5efa\u4ea7\u7269\u88ab\u653e\u7f6e\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u5939\u4e0b\uff0c\u4f60\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u9700\u8981\u5b9a\u5236\u3002"),(0,l.yg)("p",null,"core \u3001utils\u3001ui \u8fd9\u4e09\u4e2a\u9879\u76ee\u4e2d\u4e5f\u662f\u7c7b\u4f3c\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "extends": "../tsconfig.base.json",\n  "compilerOptions": {\n    "composite": true,\n    "baseUrl": ".",\n    "outDir": "../dist/core"\n  },\n  "include": ["./**/*.ts"],\n  "references": [\n    {\n      "path": "../utils"\n    }\n  ]\n}\n{\n  "extends": "../tsconfig.base.json",\n  "compilerOptions": {\n    "composite": true,\n    "target": "ES5",\n    "module": "commonjs",\n    "baseUrl": ".",\n    "outDir": "../dist/utils"\n  },\n  "include": ["./**/*.ts"]\n}\n{\n  "extends": "../tsconfig.base.json",\n  "compilerOptions": {\n    "composite": true,\n    "baseUrl": ".",\n    "outDir": "../dist/ui"\n  },\n  "include": ["./**/*.ts"]\n}\n')),(0,l.yg)("p",null,"\u5728 ",(0,l.yg)("inlineCode",{parentName:"p"},"app/index.ts")," \u4e2d\u53bb\u5f15\u7528\u5176\u4f59\u4e09\u4e2a\u9879\u76ee\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},"import { util } from '../utils';\nimport { core } from '../core';\nimport { ui } from '../ui';\n\nexport const app = () => {\n  ui();\n  core();\n  util();\n  console.log('app!');\n};\n")),(0,l.yg)("p",null,"\u5176\u4ed6\u4e09\u4e2a\u9879\u76ee\u7684\u5bfc\u51fa\u51fd\u6570\u4e5f\u53ea\u662f\u4e00\u4e2a\u7b80\u5355\u51fd\u6570\uff0c\u8fd9\u91cc\u5c31\u4e0d\u5c55\u793a\u4ee3\u7801\u4e86\u3002"),(0,l.yg)("p",null,"\u73b0\u5728\u6765\u6267\u884c\u6784\u5efa\u547d\u4ee4\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"tsc --build app\n")),(0,l.yg)("blockquote",null,(0,l.yg)("p",{parentName:"blockquote"},(0,l.yg)("inlineCode",{parentName:"p"},"tsc --build")," \u547d\u4ee4\u4e0b\u65e0\u9700\u4e5f\u4e0d\u80fd\u4f7f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"--project")," \u914d\u7f6e\uff0c\u76f4\u63a5\u6307\u5b9a\u6587\u4ef6\u5939\u5373\u53ef\u3002")),(0,l.yg)("p",null,"\u6784\u5efa\u540e\u7684\u4ea7\u7269\u662f\u8fd9\u6837\u7684\uff1a"),(0,l.yg)("p",null,(0,l.yg)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ad4c509346b84c9e85bc66aaa80af458~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp",alt:"img"})),(0,l.yg)("p",null,"\u53ef\u4ee5\u770b\u5230 app \u4e2d\u58f0\u660e\u7684\u5b50\u9879\u76ee\u5f15\u7528\u4e5f\u88ab\u4e00\u540c\u6784\u5efa\uff0c\u540c\u65f6\u8fd9\u4e9b\u5b50\u9879\u76ee\u7684\u6784\u5efa\u4ea7\u7269\u4e2d\u4f1a\u6709 ",(0,l.yg)("inlineCode",{parentName:"p"},"tsconfig.tsbuildinfo")," \u6587\u4ef6\u6765\u7f13\u5b58\u672c\u6b21\u7684\u6784\u5efa\u4fe1\u606f\u3002"),(0,l.yg)("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u5728 build \u6a21\u5f0f\u4e0b\u542f\u7528\u76d1\u542c\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"tsc --build --watch app\n")),(0,l.yg)("p",null,"\u6b64\u65f6\u5982\u679c\u4f60\u4fee\u6539\u4e00\u4e2a\u5b50\u9879\u76ee\uff0ctsc \u4f1a\u81ea\u52a8\u8fdb\u884c\u589e\u91cf\u6784\u5efa\uff0c\u8df3\u8fc7\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u7684\u9879\u76ee\uff0c\u53ea\u6784\u5efa\u90a3\u4e9b\u53d1\u751f\u4e86\u66f4\u6539\u7684\u90e8\u5206\u3002"),(0,l.yg)("p",null,"\u53e6\u5916\uff0c\u5982\u679c\u4f60\u5728\u67d0\u4e2a\u9879\u76ee\u5185\u901a\u8fc7 Ctrl /Command + \u70b9\u51fb\u7684\u65b9\u5f0f\u8df3\u8f6c\u5230\u4e00\u4e2a\u5bfc\u5165\u7684\u5b9e\u73b0\uff0c\u4f60\u4f1a\u53d1\u73b0\u80fd\u591f\u76f4\u63a5\u8df3\u8f6c\u5230\u8fd9\u4e2a\u5b9e\u73b0\u7684\u6e90\u7801\u800c\u975e\u7c7b\u578b\u5b9a\u4e49\uff0c\u8fd9\u540c\u6837\u80fd\u5e2e\u52a9\u4f60\u7684\u5f00\u53d1\u6548\u7387 up up\uff01"),(0,l.yg)("h4",{id:"composite"},"composite"),(0,l.yg)("p",null,"composite \u5c5e\u4e8e compilerOptions \u5185\u90e8\u7684\u914d\u7f6e\uff0c\u5728 Project References \u7684\u88ab\u5f15\u7528\u5b50\u9879\u76ee ",(0,l.yg)("inlineCode",{parentName:"p"},"tsconfig.json")," \u4e2d\u5fc5\u987b\u4e3a\u542f\u7528\u72b6\u6001\uff0c\u5b83\u901a\u8fc7\u4e00\u7cfb\u5217\u989d\u5916\u7684\u914d\u7f6e\u9879\uff0c\u786e\u4fdd\u4f60\u7684\u5b50\u9879\u76ee\u80fd\u88ab Project References \u5f15\u7528\uff0c\u800c\u5728\u5b50\u9879\u76ee\u4e2d\u5fc5\u987b\u542f\u7528 declaration \uff0c\u5fc5\u987b\u901a\u8fc7 files \u6216 includes \u58f0\u660e\u5b50\u9879\u76ee\u5185\u9700\u8981\u5305\u542b\u7684\u6587\u4ef6\u7b49\u3002"),(0,l.yg)("h3",{id:"\u517c\u5bb9\u6027"},"\u517c\u5bb9\u6027"),(0,l.yg)("h4",{id:"isolatedmodules"},"isolatedModules"),(0,l.yg)("p",null,"\u6211\u4eec\u5e38\u5e38\u63d0\u5230\u7684\uff0c\u6784\u5efa\u8fc7\u7a0b\u4f1a\u4f7f\u7528 TypeScript \u914d\u5408\u5176\u4ed6\u6784\u5efa\u5668\uff0c\u5982 ESBuild\u3001SWC\u3001Babel \u7b49\u3002\u901a\u5e38\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u7c7b\u578b\u76f8\u5173\u7684\u68c0\u67e5\u4f1a\u5b8c\u5168\u4ea4\u7531 TypeScript \u5904\u7406\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u6784\u5efa\u5668\u53ea\u80fd\u6267\u884c\u8bed\u6cd5\u964d\u7ea7\u4e0e\u6253\u5305\u3002"),(0,l.yg)("p",null,"\u7531\u4e8e\u8fd9\u4e9b\u6784\u5efa\u5668\u901a\u5e38\u662f\u72ec\u7acb\u5730\u5904\u7406\u6bcf\u4e2a\u6587\u4ef6\uff0c\u8fd9\u4e5f\u5c31\u610f\u5473\u7740\u5982\u679c\u5b58\u5728\u5982\u7c7b\u578b\u5bfc\u5165\u3001namespace \u7b49\u7279\u6b8a\u8bed\u6cd5\u65f6\uff0c\u5b83\u4eec\u65e0\u6cd5\u50cf tsc \u90a3\u6837\u53bb\u5168\u9762\u5206\u6790\u8fd9\u4e9b\u5173\u7cfb\u540e\u518d\u8fdb\u884c\u5904\u7406\u3002\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u542f\u7528 isolatedModules \u914d\u7f6e\uff0c\u5b83\u4f1a\u786e\u4fdd\u6bcf\u4e2a\u6587\u4ef6\u90fd\u80fd\u88ab\u89c6\u4e3a\u4e00\u4e2a\u72ec\u7acb\u6a21\u5757\uff0c\u56e0\u6b64\u4e5f\u5c31\u80fd\u591f\u88ab\u8fd9\u4e9b\u6784\u5efa\u5668\u5904\u7406\u3002"),(0,l.yg)("p",null,"\u542f\u7528 isolatedModules \u540e\uff0c\u6240\u6709\u4ee3\u7801\u6587\u4ef6\uff08\u4e0d\u5305\u62ec\u58f0\u660e\u6587\u4ef6\uff09\u90fd\u9700\u8981\u81f3\u5c11\u5b58\u5728\u4e00\u4e2a\u5bfc\u5165\u6216\u5bfc\u51fa\u8bed\u53e5\uff08\u6bd4\u5982\u6700\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"export {}"),"\uff09\uff0c\u65e0\u6cd5\u5bfc\u51fa\u7c7b\u578b\uff08ESBuild \u5e76\u4e0d\u77e5\u9053\u8fd9\u4e2a\u503c\u662f\u7c7b\u578b\u8fd8\u662f\u503c\uff09\u4ee5\u53ca\u65e0\u6cd5\u4f7f\u7528 namespace \u4e0e\u5e38\u91cf\u679a\u4e3e\uff08\u5e38\u91cf\u679a\u4e3e\u5728\u6784\u5efa\u540e\u4f1a\u88ab\u5185\u8054\u5230\u4ea7\u7269\u4e2d\uff09\u3002"),(0,l.yg)("p",null,"\u9664\u4e86\u8fd9\u4e9b\u6784\u5efa\u5668\u4ee5\u5916\uff0cisolatedModules \u914d\u7f6e\u4e5f\u9002\u7528\u4e8e\u4f7f\u7528 TS Compiler API \u4e2d\u7684 transpileModule \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7c7b\u4f3c\u4e8e Babel\uff0c\u4e0d\u4f1a\u751f\u6210\u58f0\u660e\u6587\u4ef6\uff0c\u53ea\u4f1a\u8fdb\u884c\u5355\u7eaf\u7684\u8bed\u6cd5\u964d\u7ea7\u3002"),(0,l.yg)("h4",{id:"javascript-\u76f8\u5173"},"JavaScript \u76f8\u5173"),(0,l.yg)("h5",{id:"allowjs"},"allowJs"),(0,l.yg)("p",null,"\u53ea\u6709\u5728\u5f00\u542f\u6b64\u914d\u7f6e\u540e\uff0c\u4f60\u624d\u80fd\u5728 ",(0,l.yg)("inlineCode",{parentName:"p"},".ts")," \u6587\u4ef6\u4e2d\u53bb\u5bfc\u5165 ",(0,l.yg)("inlineCode",{parentName:"p"},".js")," / ",(0,l.yg)("inlineCode",{parentName:"p"},".jsx")," \u6587\u4ef6\u3002"),(0,l.yg)("h5",{id:"checkjs"},"checkJs"),(0,l.yg)("p",null,"checkJs \u901a\u5e38\u7528\u4e8e\u914d\u5408 allowJs \u4f7f\u7528\uff0c\u4e3a ",(0,l.yg)("inlineCode",{parentName:"p"},".js")," \u6587\u4ef6\u63d0\u4f9b\u5c3d\u53ef\u80fd\u5168\u9762\u7684\u7c7b\u578b\u68c0\u67e5\u3002\u6211\u4eec\u5728\u7c7b\u578b\u6307\u4ee4\u4e00\u8282\u5b66\u4e60\u8fc7 ",(0,l.yg)("inlineCode",{parentName:"p"},"@ts-check")," \u6307\u4ee4\uff0c\u8fd9\u4e00\u914d\u7f6e\u5c31\u76f8\u5f53\u4e8e\u4e3a\u6240\u6709 JavaScript \u6587\u4ef6\u6807\u6ce8\u4e86 ",(0,l.yg)("inlineCode",{parentName:"p"},"@ts-check"),"\u3002"),(0,l.yg)("p",null,"\u5982\u679c\u4f60\u5e0c\u671b\u7981\u7528\u5bf9\u90e8\u5206 JavaScript \u6587\u4ef6\u7684\u68c0\u67e5\uff0c\u6216\u8005\u4ec5\u5bf9\u90e8\u5206 JavaScript \u6587\u4ef6\u8fdb\u884c\u68c0\u67e5\uff0c\u53ef\u4ee5\u5bf9\u5e94\u5730\u4f7f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"@ts-nocheck")," \u548c ",(0,l.yg)("inlineCode",{parentName:"p"},"@ts-check"),"\u3002"),(0,l.yg)("h4",{id:"\u6a21\u5757\u76f8\u5173"},"\u6a21\u5757\u76f8\u5173"),(0,l.yg)("h5",{id:"esmoduleinterop-\u4e0e-allowsyntheticdefaultimports"},"esModuleInterop \u4e0e allowSyntheticDefaultImports"),(0,l.yg)("p",null,"\u8fd9\u4e24\u4e2a\u914d\u7f6e\u4e3b\u8981\u8fd8\u662f\u4e3a\u4e86\u89e3\u51b3 ES Module \u548c CommonJS \u4e4b\u95f4\u7684\u517c\u5bb9\u6027\u95ee\u9898\u3002"),(0,l.yg)("p",null,"\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cESM \u8c03\u7528 ESM\uff0cCJS \u8c03\u7528 CJS\uff0c\u90fd\u4e0d\u4f1a\u6709\u95ee\u9898\u3002\u4f46\u5982\u679c\u662f ESM \u8c03\u7528 CJS \uff0c\u5c31\u53ef\u80fd\u9047\u5230\u5947\u602a\u7684\u95ee\u9898\u3002\u6bd4\u5982 React \u4e2d\u7684\u6e90\u7801\u4e2d\u662f\u8fd9\u6837\u5bfc\u51fa\u7684\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"// react/cjs/react.development.js\nexports.Children = Children;\nexports.useState = useState;\nexports.memo = memo;\nexports.useEffect = useEffect;\n")),(0,l.yg)("p",null,"\u5047\u8bbe\u6211\u4eec\u5206\u522b\u4f7f\u7528\u5177\u540d\u5bfc\u5165\u3001\u9ed8\u8ba4\u5bfc\u5165\u548c\u547d\u540d\u7a7a\u95f4\u5bfc\u5165\u6765\u5bfc\u5165 React\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-typescript"},'import { useRef } from "react"; // \u5177\u540d\u5bfc\u5165\uff08named import\uff09\nimport React from "react"; // \u9ed8\u8ba4\u5bfc\u5165\uff08default import\uff09\nimport * as ReactCopy from "react"; // \u547d\u540d\u7a7a\u95f4\u5bfc\u5165\uff08namespace import\uff09\n\nconsole.log(useRef);\nconsole.log(React.useState)\nconsole.log(ReactCopy.useEffect)\n')),(0,l.yg)("p",null,"\u8fd9\u6837\u7684\u4ee3\u7801\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff08\u5373\u6ca1\u6709\u542f\u7528 esModuleInterop\uff09\u4f1a\u88ab\u7f16\u8bd1\u4e3a\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'"use strict";\nObject.defineProperty(exports, "__esModule", { value: true });\nconst react_1 = require("react");\nconst react_2 = require("react");\nconst ReactCopy = require("react");\nconsole.log(react_1.useRef);\nconsole.log(react_2.default.useState);\nconsole.log(ReactCopy.useEffect);\n')),(0,l.yg)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u9ed8\u8ba4\u5bfc\u5165\u7684\u8c03\u7528\u88ab\u8f6c\u6362\u4e3a\u4e86 ",(0,l.yg)("inlineCode",{parentName:"p"},"react_1.default"),"\uff0c\u800c\u5177\u540d\u5bfc\u5165\u548c\u547d\u540d\u7a7a\u95f4\u5219\u4e0d\u53d8\uff0c\u4e09\u79cd\u5bfc\u5165\u8bed\u53e5\u90fd\u88ab\u8f6c\u6362\u4e3a\u4e86 CJS\u3002"),(0,l.yg)("p",null,"\u8fd9\u662f\u56e0\u4e3a TypeScript \u9ed8\u8ba4\u5c06 CommonJs \u4e5f\u89c6\u4e3a ES Module \u4e00\u6837\uff0c\u5bf9\u4e8e\u5177\u540d\u5bfc\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u5c06 ",(0,l.yg)("inlineCode",{parentName:"p"},"module.exports.useRef = useRef")," \u548c ",(0,l.yg)("inlineCode",{parentName:"p"},"export const useRef = useRef "),"\u7b49\u4ef7\u3002\u4f46\u662f\u7531\u4e8e CommonJs \u4e2d\u5e76\u6ca1\u6709\u8fd9\u4e2a\u201c\u9ed8\u8ba4\u5bfc\u51fa\u201d\u8fd9\u4e2a\u6982\u5ff5\uff0c \u53ea\u80fd\u5c06 ES Module \u4e2d\u7684\u9ed8\u8ba4\u5bfc\u51fa ",(0,l.yg)("inlineCode",{parentName:"p"},"export default")," \u5f3a\u884c\u7b49\u4ef7\u4e8e ",(0,l.yg)("inlineCode",{parentName:"p"},"module.exports.default"),"\uff0c\u5982\u4e0a\u9762\u7684\u7f16\u8bd1\u7ed3\u679c\u4e2d\u7684 ",(0,l.yg)("inlineCode",{parentName:"p"},"react_1.default"),"\u3002\u8fd9\u91cc\u7684 default \u5c31\u662f\u4e00\u4e2a\u5c5e\u6027\u540d\uff0c\u548c ",(0,l.yg)("inlineCode",{parentName:"p"},"module.exports.foo")," \u662f\u4e00\u4e2a\u6982\u5ff5\u3002"),(0,l.yg)("p",null,"\u4f46 CommonJs \u4e0b\u5b58\u5728\u7740\u7c7b\u4f3c\u201c\u547d\u540d\u7a7a\u95f4\u5bfc\u51fa\u201d\u7684\u6982\u5ff5\uff0c\u5373 ",(0,l.yg)("inlineCode",{parentName:"p"},'const react = require("react") '),"\u53ef\u4ee5\u7b49\u4ef7\u4e8e ",(0,l.yg)("inlineCode",{parentName:"p"},'import * as React from "react"'),"\u3002"),(0,l.yg)("p",null,"\u5f88\u660e\u663e\uff0c\u5bf9\u4e8e\u9ed8\u8ba4\u5bfc\u51fa\u7684\u60c5\u51b5\uff0c\u7531\u4e8e React \u4e2d\u5e76\u6ca1\u6709\u4f7f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"module.exports.default")," \u63d0\u4f9b\uff08\u6a21\u62df\uff09\u4e00\u4e2a\u9ed8\u8ba4\u5bfc\u51fa\uff0c\u56e0\u6b64 ",(0,l.yg)("inlineCode",{parentName:"p"},"react_1.default")," \u53ea\u53ef\u80fd\u662f undefined\u3002"),(0,l.yg)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u8fd9\u79cd\u60c5\u51b5\uff0cTypeScript \u4e2d\u652f\u6301\u901a\u8fc7 esModuleInterop \u914d\u7f6e\u6765\u5728 ESM \u5bfc\u5165 CJS \u8fd9\u79cd\u60c5\u51b5\u65f6\u5f15\u5165\u989d\u5916\u7684\u8f85\u52a9\u51fd\u6570\uff0c\u8fdb\u4e00\u6b65\u5bf9\u517c\u5bb9\u6027\u8fdb\u884c\u652f\u6301\uff0c\u5982\u4e0a\u9762\u7684\u4ee3\u7801\u5728\u5f00\u542f\u914d\u7f6e\u540e\u7684\u6784\u5efa\u4ea7\u7269\u4f1a\u662f\u8fd9\u6837\u7684\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) { //... }));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) { //... });\nvar __importStar = (this && this.__importStar) || function (mod) { //... };\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\n  \nObject.defineProperty(exports, "__esModule", { value: true });\nconst react_1 = require("react");\nconst react_2 = __importDefault(require("react"));\nconst ReactCopy = __importStar(require("react"));\nconsole.log(react_1.useRef);\nconsole.log(react_2.default.useState);\nconsole.log(ReactCopy.useEffect);\n')),(0,l.yg)("p",null,"\u8fd9\u4e9b\u8f85\u52a9\u51fd\u6570\u4f1a\u786e\u4fdd ESM \u7684\u9ed8\u8ba4\u5bfc\u5165\uff08",(0,l.yg)("inlineCode",{parentName:"p"},"__importDefault"),"\uff09 \u4e0e\u547d\u540d\u7a7a\u95f4\u5bfc\u5165 \uff08",(0,l.yg)("inlineCode",{parentName:"p"},"__importStar"),"\uff09\u80fd\u6b63\u786e\u5730\u5bf9\u5e94\u5230 CJS \u4e2d\u7684\u5bfc\u51fa\uff0c\u5982",(0,l.yg)("inlineCode",{parentName:"p"}," __importDefault")," \u4f1a\u68c0\u67e5\u76ee\u6807\u6a21\u5757\u7684\u4f7f\u7528\u89c4\u8303\uff0c\u5bf9 ESM \u6a21\u5757\u76f4\u63a5\u8fd4\u56de\uff0c\u5426\u5219\u5c06\u5176\u6302\u8f7d\u5728\u4e00\u4e2a\u5bf9\u8c61\u7684 default \u5c5e\u6027\u4e0a\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'const react_2 = __importDefault(require("react"));1\n\n// \u8f6c\u6362\u7ed3\u679c\u7b49\u4ef7\u4e8e\u4ee5\u4e0b\nconst react_2 = { default: { useState: {} } }\n')),(0,l.yg)("p",null,"\u800c ",(0,l.yg)("inlineCode",{parentName:"p"},"__importStar")," \uff08\u5373\u547d\u540d\u7a7a\u95f4\u5bfc\u5165\u7684\u8f85\u52a9\u51fd\u6570\uff09\u7684\u5b9e\u73b0\u5219\u8981\u590d\u6742\u4e00\u4e9b\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'var __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\n')),(0,l.yg)("p",null,"\u5b83\u4f1a\u5728\u76ee\u6807\u6a21\u5757\u4e0d\u662f ESM \u89c4\u8303\u65f6\uff0c\u5c06\u6a21\u5757\u4e2d\u9664\u4e86 default \u5c5e\u6027\u4ee5\u5916\u7684\u5bfc\u51fa\u90fd\u6302\u8f7d\u5230\u8fd4\u56de\u5bf9\u8c61\u4e0a\uff08",(0,l.yg)("inlineCode",{parentName:"p"},"__createBinding"),"\uff09\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a\u5bf9\u8c61\u7684 default \u5c5e\u6027\u8bbe\u7f6e\u4e3a\u539f\u672c\u7684\u6a21\u5757\u4fe1\u606f\uff08",(0,l.yg)("inlineCode",{parentName:"p"},"__setModuleDefault"),"\uff09\u3002\u8fd9\u6837\u4f60\u65e2\u53ef\u4ee5 ",(0,l.yg)("inlineCode",{parentName:"p"},"ReactCopy.useEffect")," \u8bbf\u95ee\u67d0\u4e2a\u503c\uff0c\u4e5f\u53ef\u4ee5 ",(0,l.yg)("inlineCode",{parentName:"p"},"ReactCopy.default")," \u8bbf\u95ee\u539f\u672c\u7684\u6a21\u5757\u3002"),(0,l.yg)("p",null,"\u8fd9\u4e9b\u8f85\u52a9\u65b9\u6cd5\u4e5f\u5c5e\u4e8e ",(0,l.yg)("inlineCode",{parentName:"p"},"importHelpers")," \u4e2d\u7684 helper\uff0c\u56e0\u6b64\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u542f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"importHelpers")," \u914d\u7f6e\u6765\u4ece tslib \u5bfc\u5165\u8fd9\u4e9b\u8f85\u52a9\u65b9\u6cd5\u3002"),(0,l.yg)("p",null,"\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e React \u672c\u8eab\u662f\u901a\u8fc7 CommonJs \u5bfc\u51fa\u7684\uff0c\u5728\u4f60\u4f7f\u7528\u9ed8\u8ba4\u5bfc\u5165\u65f6\uff0c TS \u4e5f\u4f1a\u63d0\u9192\u4f60\u6b64\u6a21\u5757\u53ea\u80fd\u5728\u542f\u7528\u4e86 ",(0,l.yg)("inlineCode",{parentName:"p"},"esModuleInterop")," \u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u9ed8\u8ba4\u5bfc\u5165\u3002"),(0,l.yg)("p",null,"\u542f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"esModuleInterop")," \u914d\u7f6e\u7684\u540c\u65f6\uff0c\u4e5f\u4f1a\u542f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"allowSyntheticDefaultImports")," \u914d\u7f6e\uff0c\u8fd9\u4e00\u914d\u7f6e\u4f1a\u4e3a\u6ca1\u6709\u9ed8\u8ba4\u5bfc\u51fa\u7684 CJS \u6a21\u5757\u201c\u6a21\u62df\u201d\u51fa\u9ed8\u8ba4\u7684\u5bfc\u51fa\uff0c\u4ee5\u63d0\u4f9b\u66f4\u597d\u7684\u7c7b\u578b\u63d0\u793a\u3002\u5982\u4ee5\u4e0b\u4ee3\u7801\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},'// handlers.js\nmodule.exports = {\n  errorHandler: () => {}\n}\n\n// index.js\nimport handlers from "./handlers";\n\nwindow.onerror = handlers.errorHandler;\n')),(0,l.yg)("p",null,"\u867d\u7136\u8fd9\u6bb5\u4ee3\u7801\u8f6c\u6362\u540e\u7684\u5b9e\u9645\u903b\u8f91\u6ca1\u6709\u95ee\u9898\uff0c\u4f46\u7531\u4e8e\u8fd9\u91cc\u5e76\u4e0d\u5b58\u5728 ",(0,l.yg)("inlineCode",{parentName:"p"},"module.exports.default")," \u5bfc\u51fa\uff0c\u4f1a\u5bfc\u81f4\u5728\u7c7b\u578b\u4e0a\u51fa\u73b0\u4e00\u4e2a\u9519\u8bef\u3002"),(0,l.yg)("p",null,"\u542f\u7528 ",(0,l.yg)("inlineCode",{parentName:"p"},"allowSyntheticDefaultImports")," \u914d\u7f6e\u4f1a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c06 handlers \u4e2d\u7684\u4ee3\u7801\u6a21\u62df\u4e3a\u4ee5\u4e0b\u7684\u5f62\u5f0f\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-js"},"const allHandlers = {\n  errorHandler: () => {}\n}\n\nmodule.exports = allHandlers;\nmodule.exports.default = allHandlers;\n")),(0,l.yg)("p",null,"\u7136\u540e\u5728\u5bfc\u5165\u65b9\u5c31\u80fd\u591f\u83b7\u5f97\u6b63\u786e\u7684\u7c7b\u578b\u63d0\u793a\u4e86\uff0c\u5b9e\u9645\u4e0a\u8fd9\u4e5f\u662f Babel \u5b9e\u9645\u7684\u6784\u5efa\u6548\u679c\uff0c\u4f46\u9700\u8981\u6ce8\u610f\u7684\u662f\u5728 TypeScript \u4e2d ",(0,l.yg)("inlineCode",{parentName:"p"},"allowSyntheticDefaultImports")," \u914d\u7f6e\u5e76\u4e0d\u4f1a\u5f71\u54cd\u6700\u7ec8\u7684\u4ee3\u7801\u751f\u6210\uff08\u4e0d\u50cf ",(0,l.yg)("inlineCode",{parentName:"p"},"esModuleInterop")," \u90a3\u6837\uff09\uff0c\u53ea\u4f1a\u5bf9\u7c7b\u578b\u68c0\u67e5\u6709\u5e2e\u52a9\u3002"),(0,l.yg)("h3",{id:"\u7f16\u8bd1\u5668\u76f8\u5173"},"\u7f16\u8bd1\u5668\u76f8\u5173"),(0,l.yg)("h4",{id:"incremental"},"incremental"),(0,l.yg)("p",null,"incremental \u914d\u7f6e\u5c06\u542f\u7528\u589e\u91cf\u6784\u5efa\uff0c\u5728\u6bcf\u6b21\u7f16\u8bd1\u65f6\u9996\u5148 diff \u51fa\u53d1\u751f\u53d8\u66f4\u7684\u6587\u4ef6\uff0c\u4ec5\u5bf9\u8fd9\u4e9b\u6587\u4ef6\u8fdb\u884c\u6784\u5efa\uff0c\u7136\u540e\u5c06\u65b0\u7684\u7f16\u8bd1\u4fe1\u606f\u901a\u8fc7 ",(0,l.yg)("inlineCode",{parentName:"p"},".tsbuildinfo")," \u5b58\u50a8\u8d77\u6765\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 tsBuildInfoFile \u914d\u7f6e\u9879\u6765\u63a7\u5236\u8fd9\u4e9b\u7f16\u8bd1\u4fe1\u606f\u6587\u4ef6\u7684\u8f93\u51fa\u4f4d\u7f6e\u3002"),(0,l.yg)("h4",{id:"watch-\u76f8\u5173"},"watch \u76f8\u5173"),(0,l.yg)("p",null,"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",(0,l.yg)("inlineCode",{parentName:"p"},"tsc --watch")," \u6765\u542f\u52a8\u4e00\u4e2a\u76d1\u542c\u6a21\u5f0f\u7684 tsc\uff0c\u5b83\u4f1a\u5728\u4ee3\u7801\u6587\u4ef6\u53d1\u751f\u53d8\u5316\uff08\u540c\u6837\u4f1a\u5bf9 node_modules \u6587\u4ef6\u5939\u7684\u53d8\u5316\u8fdb\u884c\u76d1\u542c\uff0c\u4f46\u53ea\u5230\u6587\u4ef6\u5939\u7ea7\u522b\uff09\u65f6\u91cd\u65b0\u8fdb\u884c\u7f16\u8bd1\u3002\u901a\u5e38\u6211\u4eec\u4f1a\u642d\u914d incremental \u9009\u9879\u3002"),(0,l.yg)("p",null,"\u4f60\u53ef\u4ee5\u901a\u8fc7\u4e0e compilerOptions \u540c\u7ea7\u7684 watchOptions \u6765\u914d\u7f6e\u76d1\u542c\u884c\u4e3a\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "compilerOptions": {\n    "target": "es2020",\n    "moduleResolution": "node"\n    // ...\n  },\n  "watchOptions": {\n    // \u5982\u4f55\u76d1\u542c\u6587\u4ef6\n    "watchFile": "useFsEvents",\n    // \u5982\u4f55\u76d1\u542c\u76ee\u5f55\n    "watchDirectory": "useFsEvents",\n    "fallbackPolling": "dynamicPriority",\n    "synchronousWatchDirectory": true,\n    "excludeDirectories": ["**/node_modules", "_build"],\n    "excludeFiles": ["build/fileWhichChangesOften.ts"]\n  }\n}\n')),(0,l.yg)("p",null,"\u5bf9\u4e8e ",(0,l.yg)("inlineCode",{parentName:"p"},"watchFile")," \u4e0e ",(0,l.yg)("inlineCode",{parentName:"p"},"watchDirectory")," \u9009\u9879\uff0cTS \u63d0\u4f9b\u4e86 ",(0,l.yg)("inlineCode",{parentName:"p"},"useFsEvents"),"\uff08\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u539f\u751f\u4e8b\u4ef6\u6765\u8fdb\u884c\u76d1\u542c\uff09\u3001",(0,l.yg)("inlineCode",{parentName:"p"},"fixedPollingInterval"),"\uff08\u4e0d\u8fdb\u884c\u5177\u4f53\u76d1\u542c\uff0c\u800c\u53ea\u662f\u5728\u6bcf\u79d2\u4ee5\u56fa\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u540e\u53bb\u68c0\u67e5\u53d1\u751f\u53d8\u66f4\u7684\u6587\u4ef6\uff09\u3001",(0,l.yg)("inlineCode",{parentName:"p"},"priorityPollingInterval"),"\uff08\u7c7b\u4f3c fixedPollingInterval \uff0c\u4f46\u5bf9\u67d0\u4e9b\u7279\u6b8a\u7c7b\u578b\u6587\u4ef6\u7684\u68c0\u67e5\u9891\u7387\u4f1a\u964d\u4f4e\uff09\u3001",(0,l.yg)("inlineCode",{parentName:"p"},"dynamicPriorityPolling"),"\uff08\u5bf9\u53d8\u66f4\u4e0d\u9891\u7e41\u7684\u6587\u4ef6\uff0c\u68c0\u67e5\u9891\u7387\u964d\u4f4e\uff09\u3001",(0,l.yg)("inlineCode",{parentName:"p"},"useFsEventsOnParentDirectory"),"\uff08\u5bf9\u6587\u4ef6/\u76ee\u5f55\u7684\u7236\u6587\u4ef6\u5939\u4f7f\u7528\u539f\u751f\u4e8b\u4ef6\u76d1\u542c\uff09 \u7b49\u6570\u4e2a\u76d1\u542c\u65b9\u5f0f\u9009\u62e9\u3002"),(0,l.yg)("p",null,"\u5176\u4ed6\u5e38\u7528\u7684\u9009\u9879\u5219\u4e3b\u8981\u662f\u7528\u4e8e\u51cf\u5c0f\u76d1\u542c\u8303\u56f4\u7684 ",(0,l.yg)("inlineCode",{parentName:"p"},"excludeDirectories")," \u4e0e ",(0,l.yg)("inlineCode",{parentName:"p"},"excludeFiles")," \u3002"),(0,l.yg)("h4",{id:"\u7f16\u8bd1\u5668\u68c0\u67e5"},"\u7f16\u8bd1\u5668\u68c0\u67e5"),(0,l.yg)("p",null,"\u8fd9\u91cc\u7684\u914d\u7f6e\u4e3b\u8981\u7528\u4e8e\u68c0\u67e5\u7f16\u8bd1\u5668\u7684\u5de5\u4f5c\u60c5\u51b5\uff0c\u6216\u8005\u5728\u4f60\u9700\u8981\u8fdb\u884c\u7f16\u8bd1\u5668\u6027\u80fd\u4f18\u5316\u65f6\u4f7f\u7528\uff0c\u5b83\u4eec\u4f1a\u751f\u6210\u7f16\u8bd1\u5668\u5de5\u4f5c\u7684\u5206\u6790\u62a5\u544a\uff0c\u5305\u62ec\u672c\u6b21\u7f16\u8bd1\u5305\u542b\u4e86\u54ea\u4e9b\u6587\u4ef6\uff0c\u4ee5\u53ca\u5404\u4e2a\u7f16\u8bd1\u9636\u6bb5\uff08I/O\u3001Type Checking \u7b49\uff09\u7684\u8017\u65f6\u3002"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("p",{parentName:"li"},"diagnostics \u4e0e extendedDiagnostics\uff0c\u8f93\u51fa\u8bca\u65ad\u4fe1\u606f\uff0c\u5176\u4e2d diagnostics \u4f1a\u751f\u6210\u53ef\u8bfb\u6027\u66f4\u597d\u7684\u7248\u672c\u3002")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("p",{parentName:"li"},"generateCpuProfile\uff0c\u751f\u6210 CPU \u7684\u8017\u65f6\u62a5\u544a\uff0c\u7528\u4e8e\u4e86\u89e3\u6784\u5efa\u7f13\u6162\u7684\u53ef\u80fd\u539f\u56e0\u3002")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("p",{parentName:"li"},"listFiles \u4e0e listEmittedFiles\uff0c\u5176\u4e2d listFiles \u4f1a\u7f57\u5217\u6240\u6709\u88ab\u7eb3\u5165\u672c\u6b21\u7f16\u8bd1\u8fc7\u7a0b\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u4e8e\u68c0\u67e5\u662f\u5426\u643a\u5e26\u4e86\u975e\u9884\u671f\u7684\u6587\u4ef6\u3002\u800c listEmittedFiles \u5219\u4f1a\u7f57\u5217\u8f93\u51fa\u7684\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5229\u7528\u8fd9\u4e9b\u6587\u4ef6\u4fe1\u606f\u8fdb\u884c\u989d\u5916\u5904\u7406\uff0c\u6bd4\u5982\u62f7\u8d1d\u6587\u4ef6\u3002")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("p",{parentName:"li"},"traceResolution\uff0c\u8f93\u51fa\u4e00\u4efd\u8ddf\u8e2a\u6a21\u5757\u89e3\u6790\u7b56\u7565\u4e0e\u8def\u5f84\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u8fd9\u6837\uff1a"),(0,l.yg)("pre",{parentName:"li"},(0,l.yg)("code",{parentName:"pre",className:"language-text"},"======== Resolving module 'typescript' from 'src/app.ts'. ========\nModule resolution kind is not specified, using 'NodeJs'.\nLoading module 'typescript' from 'node_modules' folder.\nFile 'src/node_modules/typescript.ts' does not exist.\nFile 'src/node_modules/typescript.tsx' does not exist.\nFile 'src/node_modules/typescript.d.ts' does not exist.\nFile 'src/node_modules/typescript/package.json' does not exist.\nFile 'node_modules/typescript.ts' does not exist.\nFile 'node_modules/typescript.tsx' does not exist.\nFile 'node_modules/typescript.d.ts' does not exist.\nFound 'package.json' at 'node_modules/typescript/package.json'.\n'package.json' has 'types' field './lib/typescript.d.ts' that references 'node_modules/typescript/lib/typescript.d.ts'.\nFile 'node_modules/typescript/lib/typescript.d.ts' exist - use it as a module resolution result.\n======== Module name 'typescript' was successfully resolved to 'node_modules/typescript/lib/typescript.d.ts'. ========\n")))),(0,l.yg)("h3",{id:"\u5176\u5b83\u5de5\u7a0b\u76f8\u5173"},"\u5176\u5b83\u5de5\u7a0b\u76f8\u5173"),(0,l.yg)("h4",{id:"extends"},"extends"),(0,l.yg)("p",null,"\u8fd9\u4e00\u914d\u7f6e\u53ef\u4ee5\u7c7b\u6bd4\u5230 ESLint \u914d\u7f6e\u4e2d\u7684 extends\uff0c\u4f5c\u7528\u5c31\u662f\u590d\u7528\u5df2\u6709\u7684\u6587\u4ef6\uff0c\u5728\u8fd9\u91cc\u5373\u662f\u4e00\u4e2a\u5df2\u5b58\u5728\u7684 TSConfig \u914d\u7f6e\u6587\u4ef6\u3002\u5176\u4f5c\u7528\u5305\u62ec\u5728 Monorepo \u4e0b\u7edf\u4e00\u5404\u4e2a\u5b50\u9879\u76ee\u7684\u57fa\u7840\u914d\u7f6e\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-json"},'// <root>/packages/pkg/tsconfig.json\n{\n  "extends": "../../tsconfig.base.json"\n}\n\n// <root>/tsconfig.base.json\n{\n  "compilerOptions": { }\n}\n')),(0,l.yg)("p",null,"\u6216\u8005\u5728\u56e2\u961f\u7684\u6240\u6709\u9879\u76ee\u95f4\u4f7f\u7528\u57fa\u672c\u7edf\u4e00\u7684\u914d\u7f6e\uff1a"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "extends": "team-config/tsconfig.json"\n}\n')),(0,l.yg)("p",null,"\u5176\u4e2d team-config \u662f\u4e00\u4e2a npm \u5305\u3002"),(0,l.yg)("h2",{id:"\u603b\u7ed3\u4e0e\u9884\u544a"},"\u603b\u7ed3\u4e0e\u9884\u544a"),(0,l.yg)("p",null,"\u5728\u8fd9\u4e00\u8282\uff0c\u6211\u4eec\u4e86\u89e3\u4e86\u68c0\u67e5\u76f8\u5173\u548c\u5de5\u7a0b\u76f8\u5173\u7684 TSConfig \uff0c\u5176\u4e2d\u6709\u4e9b\u914d\u7f6e\u6d89\u53ca\u524d\u7aef\u9886\u57df\u7684\u5176\u4ed6\u77e5\u8bc6\uff0c\u5982\u5728 esModuleInterop \u4e2d\uff0c\u6211\u4eec\u4e86\u89e3\u4e86 ESM \u4e0e CJS \u4e4b\u95f4\u8c03\u7528\u7684\u95ee\u9898\uff0c\u4ee5\u53ca TypeScript \u662f\u5982\u4f55\u89e3\u51b3\u7684\u3002\u5728\u5de5\u7a0b\u90e8\u5206\uff0c\u6211\u4eec\u4e86\u89e3\u4e86 Project References \u8fd9\u4e00\u5de5\u7a0b\u9886\u57df\u7684\u91cd\u78c5\u7279\u6027\uff0c\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7 isolatedModules \u6765\u4f7f\u5176\u5b83\u7f16\u8bd1\u5668\u4e5f\u80fd\u59a5\u5584\u5904\u7406 TS \u4ee3\u7801\u3002"),(0,l.yg)("p",null,"\u53e6\u5916\uff0c\u8fd9\u4e24\u8282\u7684\u5185\u5bb9\u5176\u5b9e\u5e76\u4e0d\u5305\u542b\u6240\u6709 TSConfig \u914d\u7f6e\uff0c\u9664\u4e86\u7701\u7565\u4e86\u4e00\u4e9b\u7eaf\u505a\u517c\u5bb9\u6027\u7684\u914d\u7f6e\uff08\u5982 outFile \u7684\u524d\u8eab ",(0,l.yg)("inlineCode",{parentName:"p"},"out")," \u914d\u7f6e\uff09\u4ee5\u5916\uff0c\u8fd8\u6709\u90e8\u5206\u6ca1\u6709\u4ecb\u7ecd\u7684\u914d\u7f6e\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u7684\u6f2b\u8c08\u7bc7\u4e2d\u4f7f\u7528\u4e13\u95e8\u7684\u4e00\u8282\u6765\u8fdb\u884c\u4ecb\u7ecd\uff0c\u5982\u4ece\u5b9a\u4e49\u7f16\u8f91\u5668\u63d2\u4ef6\u7684 ",(0,l.yg)("inlineCode",{parentName:"p"},"plugins")," \u914d\u7f6e\u5230\u7f16\u8f91\u5668\u63d2\u4ef6\u7684\u5f00\u53d1\u3002"),(0,l.yg)("p",null,"\u5728\u4e0b\u4e00\u8282\uff0c\u6211\u4eec\u4f1a\u8fdb\u5165\u5b8c\u5168\u7684\u5b9e\u6218\u73af\u8282\uff0c\u4f7f\u7528 TypeScript + NestJs + Prisma \u5f00\u53d1\u4e00\u4e2a\u535a\u5ba2 API\uff0c\u4ece\u9879\u76ee\u642d\u5efa\u3001\u57fa\u672c\u8bed\u6cd5\u3001\u6570\u636e\u5e93 \u4e0e ORM\u3001\u8bf7\u6c42\u94fe\u8def\u5230\u90e8\u7f72\uff0c\u8ba9\u4f60\u62e5\u6709\u4e00\u4e2a\u5b8c\u6574\u7684\uff0c\u5c5e\u4e8e\u81ea\u5df1\u7684 API \u670d\u52a1\u3002"))}u.isMDXComponent=!0},5680:(e,n,t)=>{t.d(n,{xA:()=>c,yg:()=>y});var r=t(6540);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var p=r.createContext({}),s=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=s(e.components);return r.createElement(p.Provider,{value:n},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,l=e.mdxType,a=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=s(t),d=l,y=u["".concat(p,".").concat(d)]||u[d]||g[d]||a;return t?r.createElement(y,i(i({ref:n},c),{},{components:t})):r.createElement(y,i({ref:n},c))}));function y(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var a=t.length,i=new Array(a);i[0]=d;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o[u]="string"==typeof e?e:l,i[1]=o;for(var s=2;s<a;s++)i[s]=t[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);