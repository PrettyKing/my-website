---
title: vue 针对搜索引擎的seo优化
date: 2021-08-01
tags:
 - question
categories:
 - 问题积累
---



## vue的seo几种解决方案

> 众所周知，vue spa 单页面应用对 seo 不友好，当然也有相应的解决方案

### SSR 服务器渲染

Vue.js是构建客户端应用程序的框架。默认情况下，可以在浏览器中输出Vue组件，进行生成DOM和操作DOM。然而，也可以将同一个组件渲染为服务器端的HTML字符串，将它们直接发送到浏览器，最后将这些静态标记”激活"为客户端上完全可交互的应用程序。

服务器渲染的Vue.js 应用程序也可以被认为是”同构”或"通用"，因为应用程序的大部分代码都可以在服务器和客户端上运行。

`权衡之处:`
- 开发条件所限，浏览器特定的代码，只能在某些生命周期钩子函数(lifecycle hook) 中使用:一些外部扩展库(external library) 可能需要特殊处理，才能在服务器渲染应用程序中运行;
- 环境和部署要求更高，需要Node.js server 运行环境;
- 高流量的情况下，请准备相应的服务器负载，并明智地采用缓存策略。

`优势:`

- 更好的SEO,由于搜索引擎爬虫抓取工具可以直接查看完全渲染的页面;
- 更快的内容到达时间(time -to-content)，特别是对于缓慢的网络情况或运行缓慢的设备。

`不足:`

- 套代码两套执行环境，会引起各种问题，比如服务端没有window、document对象，处理方式是增加判断，如果是客户端才执行:
- 引用npm包，带有dom操作的，例如: wowjs,不能用import 的方式
- Nuxt asyncData 方法，初始化页面前先得到数据，但仅限于页面组件调用:

### Nuxt静态化

Nuxt.js框架，官方是这样介绍的。从头搭建个服务端渲染的应用是相当 复杂的。幸运的是，我们有一个优秀的社区项目 Nuxt.js 让这一切变得非常简单。Nuxt是一个基于Vue生态的更高层的框架，为开发服务端渲染的Vue应用提供了极其便利的开发体验。更酷的是，你甚至可以用它来做为静态站生成器。

静态化是Nuxt.js 打包的另一种方式，算是Nuxt.js 的一个创新点，页面加载速度很快。

> 在Nuxt.js 执行generate 静态化打包时，动态路由会被忽略。

如果你的动态路由的参数很多，例如商品详情，可能高达几千几万个。需要一个接口返回所有id, 然后打包时遍历id, 打包到本地，如果某个商品修改了或者下架了，又要重新打包，数量多的情况下打包也是非常慢的，非常不现实。

`优势:`

- 纯静态文件，访问速度超快;

- 对比SSR，不涉及到服务器负载方面问题;

- 静态网页不宜遭到黑客攻击，安全性更高。

`不足 :`

- 如果动态路由参数多的话不适用。

### 预渲染 prerender-spa-plugin

如果你只是用来改善少数营销页面(例如 /, /about, /contact 等)的SEO, 那么你可能需要预渲染。无需使用web服务器实时动态编译HTML,而是使用预渲染方式，在构建时(build time)简单地生成针对特定路由的静态HTML文件。优点是设置预渲染更简单，并可以将你的前端作为一个完全静态的站点。

`优势:`

- 改动小，引入插件配置即可

`不足 :`

- 无法使用动态路由
- 只适用少量页面的项目，页面多达几百个的情况下，打包会非常慢

### 使用phantomjs 针对爬虫做处理

Phantomjs是一个基于webkit 内核的无头浏览器，即没有UI界面，即它就是一个浏览器， 只是其内的点击、翻页等人为相关操作需要程序设计实现。

虽然"PhantomJS宣布终止开发”，但是已经满足对Vue的SEO处理。

这种解决方案其实是种旁路机制， 原理就是通过Nginx配置，判断访问的来源 UA是否是 爬虫访问，如果是则将搜索引擎的爬虫请求转发到一个node server, 再通过PhantomJS 来解析完整的HTML,返回给爬虫。

`优势:`

完全不用改动项目代码，按原本的SPA开发即可，对比开发SSR成本小不要太多;
对已用SPA开发完成的项目，这是不二之选。

`不足:`

部署需要node服务器支持;
爬虫访问比网页访问要慢一些，因为定时要定时资源加载完成才返回给爬虫;
如果被恶意模拟百度爬虫大量循环爬取，会造成服务器负载方面问题，解决方法是判断访问的IP，是否是百度官方爬虫的IP。

### 总结

如果构建大型网站，如商城类，别犹豫，直接上SSR服务器渲染，当然也有相应的坑等你，社区较成熟，英文好点，一切问题都迎刃而解。

如果只是个人博客、公司官网这类，其余三种都可以。

如果对已用SPA开发完成的项目进行SEO优化，而且支持node服务器，请使用Phantomjs 